<!DOCTYPE html>
<html lang="en">
<head><meta charset="utf-8">
<title>Codecs Â· Fabric Community Wiki</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="Codecs">
<meta name="description" content="An advanced guide to using Mojang's Codec system for serializing and deserializing java objects.">
<meta property="og:description" content="An advanced guide to using Mojang's Codec system for serializing and deserializing java objects.">
<meta property="og:image" content="https://og.mineblock11.dev/fabric-community-wiki?title=Codecs&description=An%20advanced%20guide%20to%20using%20Mojang's%20Codec%20system%20for%20serializing%20and%20deserializing%20java%20objects.&path=/misc/codecs">
<meta property="twitter:image" content="https://og.mineblock11.dev/fabric-community-wiki?title=Codecs&description=An%20advanced%20guide%20to%20using%20Mojang's%20Codec%20system%20for%20serializing%20and%20deserializing%20java%20objects.&path=/misc/codecs">
<meta property="twitter:title" content="Codecs">
<meta property="twitter:description" content="An advanced guide to using Mojang's Codec system for serializing and deserializing java objects."><link rel="modulepreload" href="/misc/codecs/_payload.js"><style id="pinceau-theme">@media { :root {--pinceau-mq: initial; --docus-loadingBar-gradientColorStop3: #a9e100;--docus-loadingBar-gradientColorStop2: #fec134;--docus-loadingBar-gradientColorStop1: #dc2c00;--docus-loadingBar-height: 3px;--docus-readableLine: 78ch;--docus-footer-height: 145px;--docus-header-height: 64px;--prose-code-inline-padding: 0.2rem 0.375rem 0.2rem 0.375rem;--prose-code-block-backdropFilter: contrast(1);--prose-code-block-border-style: solid;--prose-code-block-border-width: 1px;--prose-tbody-tr-borderBottom-style: dashed;--prose-tbody-tr-borderBottom-width: 1px;--prose-th-textAlign: inherit;--prose-thead-borderBottom-style: solid;--prose-thead-borderBottom-width: 1px;--prose-thead-border-style: solid;--prose-thead-border-width: 0px;--prose-table-textAlign: start;--prose-hr-width: 1px;--prose-hr-style: solid;--prose-li-listStylePosition: outside;--prose-ol-li-markerColor: currentColor;--prose-ol-paddingInlineStart: 21px;--prose-ol-listStyleType: decimal;--prose-ul-li-markerColor: currentColor;--prose-ul-paddingInlineStart: 21px;--prose-ul-listStyleType: disc;--prose-blockquote-border-style: solid;--prose-blockquote-border-width: 4px;--prose-blockquote-quotes: '201C' '201D' '2018' '2019';--prose-blockquote-paddingInlineStart: 24px;--prose-a-code-color-hover: currentColor;--prose-a-code-color-static: currentColor;--prose-a-hasCode-borderBottom: none;--prose-a-border-distance: 2px;--prose-a-border-color-hover: currentColor;--prose-a-border-color-static: currentColor;--prose-a-border-style-hover: solid;--prose-a-border-style-static: dashed;--prose-a-border-width: 1px;--prose-a-color-static: inherit;--prose-a-textDecoration: none;--prose-h6-margin: 3rem 0 2rem;--prose-h5-margin: 3rem 0 2rem;--prose-h4-margin: 3rem 0 2rem;--prose-h3-margin: 3rem 0 2rem;--prose-h2-margin: 3rem 0 2rem;--prose-h1-margin: 0 0 2rem;--typography-lead-loose: 2;--typography-lead-relaxed: 1.625;--typography-lead-normal: 1.5;--typography-lead-snug: 1.375;--typography-lead-tight: 1.25;--typography-lead-none: 1;--typography-lead-10: 2.5rem;--typography-lead-9: 2.25rem;--typography-lead-8: 2rem;--typography-lead-7: 1.75rem;--typography-lead-6: 1.5rem;--typography-lead-5: 1.25rem;--typography-lead-4: 1rem;--typography-lead-3: .75rem;--typography-lead-2: .5rem;--typography-lead-1: .025rem;--typography-fontWeight-black: 900;--typography-fontWeight-extrabold: 800;--typography-fontWeight-bold: 700;--typography-fontWeight-semibold: 600;--typography-fontWeight-medium: 500;--typography-fontWeight-normal: 400;--typography-fontWeight-light: 300;--typography-fontWeight-extralight: 200;--typography-fontWeight-thin: 100;--typography-fontSize-9xl: 128px;--typography-fontSize-8xl: 96px;--typography-fontSize-7xl: 72px;--typography-fontSize-6xl: 60px;--typography-fontSize-5xl: 48px;--typography-fontSize-4xl: 36px;--typography-fontSize-3xl: 30px;--typography-fontSize-2xl: 24px;--typography-fontSize-xl: 20px;--typography-fontSize-lg: 18px;--typography-fontSize-base: 16px;--typography-fontSize-sm: 14px;--typography-fontSize-xs: 12px;--typography-letterSpacing-wide: 0.025em;--typography-letterSpacing-tight: -0.025em;--typography-verticalMargin-base: 24px;--typography-verticalMargin-sm: 16px;--elements-border-secondary-hover: [object Object];--elements-backdrop-background: #fffc;--elements-backdrop-filter: saturate(200%) blur(20px);--elements-container-maxWidth: 80rem;--lead-loose: 2;--lead-relaxed: 1.625;--lead-normal: 1.5;--lead-snug: 1.375;--lead-tight: 1.25;--lead-none: 1;--lead-10: 2.5rem;--lead-9: 2.25rem;--lead-8: 2rem;--lead-7: 1.75rem;--lead-6: 1.5rem;--lead-5: 1.25rem;--lead-4: 1rem;--lead-3: .75rem;--lead-2: .5rem;--lead-1: .025rem;--letterSpacing-widest: 0.1em;--letterSpacing-wider: 0.05em;--letterSpacing-wide: 0.025em;--letterSpacing-normal: 0em;--letterSpacing-tight: -0.025em;--letterSpacing-tighter: -0.05em;--fontSize-9xl: 8rem;--fontSize-8xl: 6rem;--fontSize-7xl: 4.5rem;--fontSize-6xl: 3.75rem;--fontSize-5xl: 3rem;--fontSize-4xl: 2.25rem;--fontSize-3xl: 1.875rem;--fontSize-2xl: 1.5rem;--fontSize-xl: 1.25rem;--fontSize-lg: 1.125rem;--fontSize-base: 1rem;--fontSize-sm: 0.875rem;--fontSize-xs: 0.75rem;--fontWeight-black: 900;--fontWeight-extrabold: 800;--fontWeight-bold: 700;--fontWeight-semibold: 600;--fontWeight-medium: 500;--fontWeight-normal: 400;--fontWeight-light: 300;--fontWeight-extralight: 200;--fontWeight-thin: 100;--font-mono: monospace;--font-serif: ui-serif, Georgia, Cambria, Times New Roman, Times, serif;--font-sans: apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--opacity-total: 1;--opacity-high: 0.8;--opacity-medium: 0.5;--opacity-soft: 0.3;--opacity-light: 0.15;--opacity-bright: 0.1;--opacity-noOpacity: 0;--borderWidth-lg: 3px;--borderWidth-md: 2px;--borderWidth-sm: 1px;--borderWidth-noBorder: 0;--space-rem-875: 0.875rem;--space-rem-625: 0.625rem;--space-rem-375: 0.375rem;--space-rem-125: 0.125rem;--space-px: 1px;--space-128: 32rem;--space-96: 24rem;--space-80: 20rem;--space-72: 18rem;--space-64: 16rem;--space-60: 15rem;--space-56: 14rem;--space-52: 13rem;--space-48: 12rem;--space-44: 11rem;--space-40: 10rem;--space-36: 9rem;--space-32: 8rem;--space-28: 7rem;--space-24: 6rem;--space-20: 5rem;--space-16: 4rem;--space-14: 3.5rem;--space-12: 3rem;--space-11: 2.75rem;--space-10: 2.5rem;--space-9: 2.25rem;--space-8: 2rem;--space-7: 1.75rem;--space-6: 1.5rem;--space-5: 1.25rem;--space-4: 1rem;--space-3: 0.75rem;--space-2: 0.5rem;--space-1: 0.25rem;--space-0: 0px;--size-full: 100%;--size-7xl: 80rem;--size-6xl: 72rem;--size-5xl: 64rem;--size-4xl: 56rem;--size-3xl: 48rem;--size-2xl: 42rem;--size-xl: 36rem;--size-lg: 32rem;--size-md: 28rem;--size-sm: 24rem;--size-xs: 20rem;--size-200: 200px;--size-104: 104px;--size-80: 80px;--size-64: 64px;--size-56: 56px;--size-48: 48px;--size-40: 40px;--size-32: 32px;--size-24: 24px;--size-20: 20px;--size-16: 16px;--size-12: 12px;--size-8: 8px;--size-6: 6px;--size-4: 4px;--size-2: 2px;--size-0: 0px;--radii-full: 9999px;--radii-3xl: 1.75rem;--radii-2xl: 1.5rem;--radii-xl: 1rem;--radii-lg: 0.75rem;--radii-md: 0.5rem;--radii-sm: 0.375rem;--radii-xs: 0.25rem;--radii-2xs: 0.125rem;--radii-none: 0px;--shadow-none: 0px 0px 0px 0px transparent;--height-screen: 100vh;--width-screen: 100vw;--color-primary-900: #BF360C;--color-primary-800: #D84315;--color-primary-700: #E64A19;--color-primary-600: #F4511E;--color-primary-500: #FF5722;--color-primary-400: #FF7043;--color-primary-300: #FF8A65;--color-primary-200: #FFAB91;--color-primary-100: #FFCCBC;--color-primary-50: #FBE9E7;--color-ruby-900: #380011;--color-ruby-800: #700021;--color-ruby-700: #a90032;--color-ruby-600: #e10043;--color-ruby-500: #ff1a5e;--color-ruby-400: #ff4079;--color-ruby-300: #ff6694;--color-ruby-200: #ff8dae;--color-ruby-100: #ffb3c9;--color-ruby-50: #ffd9e4;--color-pink-900: #380025;--color-pink-800: #70004b;--color-pink-700: #a90070;--color-pink-600: #e10095;--color-pink-500: #ff1ab2;--color-pink-400: #ff40bf;--color-pink-300: #ff66cc;--color-pink-200: #ff8dd8;--color-pink-100: #ffb3e5;--color-pink-50: #ffd9f2;--color-purple-900: #190038;--color-purple-800: #330070;--color-purple-700: #4c00a9;--color-purple-600: #6500e1;--color-purple-500: #811aff;--color-purple-400: #9640ff;--color-purple-300: #ab66ff;--color-purple-200: #c08dff;--color-purple-100: #d5b3ff;--color-purple-50: #ead9ff;--color-royalblue-900: #0b0531;--color-royalblue-800: #160a62;--color-royalblue-700: #211093;--color-royalblue-600: #2c15c4;--color-royalblue-500: #4127e8;--color-royalblue-400: #614bec;--color-royalblue-300: #806ff0;--color-royalblue-200: #a093f3;--color-royalblue-100: #c0b7f7;--color-royalblue-50: #dfdbfb;--color-indigoblue-900: #001238;--color-indigoblue-800: #002370;--color-indigoblue-700: #0035a9;--color-indigoblue-600: #0047e1;--color-indigoblue-500: #1a62ff;--color-indigoblue-400: #407cff;--color-indigoblue-300: #6696ff;--color-indigoblue-200: #8db0ff;--color-indigoblue-100: #b3cbff;--color-indigoblue-50: #d9e5ff;--color-blue-900: #00131D;--color-blue-800: #002235;--color-blue-700: #014267;--color-blue-600: #0069A6;--color-blue-500: #1AADFF;--color-blue-400: #64C7FF;--color-blue-300: #A1DDFF;--color-blue-200: #C6EAFF;--color-blue-100: #DFF3FF;--color-blue-50: #F2FAFF;--color-lightblue-900: #002e38;--color-lightblue-800: #005c70;--color-lightblue-700: #008aa9;--color-lightblue-600: #00b9e1;--color-lightblue-500: #1ad6ff;--color-lightblue-400: #40ddff;--color-lightblue-300: #66e4ff;--color-lightblue-200: #8deaff;--color-lightblue-100: #b3f1ff;--color-lightblue-50: #d9f8ff;--color-teal-900: #062a28;--color-teal-800: #0b544f;--color-teal-700: #117d77;--color-teal-600: #16a79e;--color-teal-500: #1cd1c6;--color-teal-400: #36e4da;--color-teal-300: #5fe9e1;--color-teal-200: #87efe9;--color-teal-100: #aff4f0;--color-teal-50: #d7faf8;--color-pear-900: #2a2b09;--color-pear-800: #545512;--color-pear-700: #7e801b;--color-pear-600: #a8aa24;--color-pear-500: #d0d32f;--color-pear-400: #d8da52;--color-pear-300: #e0e274;--color-pear-200: #e8e997;--color-pear-100: #eff0ba;--color-pear-50: #f7f8dc;--color-red-900: #1C0301;--color-red-800: #340A01;--color-red-700: #701704;--color-red-600: #BB2402;--color-red-500: #FF3B10;--color-red-400: #FF7353;--color-red-300: #FFA692;--color-red-200: #FFDED7;--color-red-100: #FFF3F0;--color-red-50: #FFF9F8;--color-orange-900: #381800;--color-orange-800: #702f00;--color-orange-700: #a94700;--color-orange-600: #e15e00;--color-orange-500: #ff7a1a;--color-orange-400: #ff9040;--color-orange-300: #ffa666;--color-orange-200: #ffbd8d;--color-orange-100: #ffd3b3;--color-orange-50: #ffe9d9;--color-yellow-900: #1B1500;--color-yellow-800: #292100;--color-yellow-700: #614E02;--color-yellow-600: #CBA408;--color-yellow-500: #FBCA05;--color-yellow-400: #FFDC4E;--color-yellow-300: #FFE372;--color-yellow-200: #FFF0B1;--color-yellow-100: #FFF6D3;--color-yellow-50: #FFFCEE;--color-green-900: #00190F;--color-green-800: #002817;--color-green-700: #006037;--color-green-600: #00B467;--color-green-500: #0DD885;--color-green-400: #3CEEA5;--color-green-300: #86FBCB;--color-green-200: #C3FFE6;--color-green-100: #DEFFF1;--color-green-50: #ECFFF7;--color-gray-900: #212121;--color-gray-800: #424242;--color-gray-700: #616161;--color-gray-600: #757575;--color-gray-500: #9E9E9E;--color-gray-400: #BDBDBD;--color-gray-300: #E0E0E0;--color-gray-200: #EEEEEE;--color-gray-100: #F5F5F5;--color-gray-50: #FAFAFA;--color-black: #121212;--color-white: #ffffff;--media-portrait: only screen and (orientation: portrait);--media-landscape: only screen and (orientation: landscape);--media-rm: (prefers-reduced-motion: reduce);--media-2xl: (min-width: 1536px);--media-xl: (min-width: 1280px);--media-lg: (min-width: 1024px);--media-md: (min-width: 768px);--media-sm: (min-width: 640px);--media-xs: (min-width: 475px);--docus-footer-padding: var(--space-4) 0;--docus-header-title-color-hover: var(--color-primary-500);--docus-header-title-color-static: var(--color-gray-900);--docus-header-title-fontWeight: var(--fontWeight-bold);--docus-header-title-fontSize: var(--fontSize-2xl);--docus-header-logo-height: var(--space-6);--docus-body-fontFamily: var(--font-sans);--docus-body-color: var(--color-gray-800);--docus-body-backgroundColor: var(--color-white);--prose-code-inline-fontWeight: var(--typography-fontWeight-normal);--prose-code-inline-fontSize: var(--typography-fontSize-sm);--prose-code-inline-borderRadius: var(--radii-xs);--prose-code-block-pre-padding: var(--typography-verticalMargin-sm);--prose-code-block-margin: var(--typography-verticalMargin-base) 0;--prose-code-block-fontSize: var(--typography-fontSize-sm);--prose-tbody-code-inline-fontSize: var(--typography-fontSize-sm);--prose-tbody-td-padding: var(--typography-verticalMargin-sm);--prose-th-fontWeight: var(--typography-fontWeight-semibold);--prose-th-padding: 0 var(--typography-verticalMargin-sm) var(--typography-verticalMargin-sm) var(--typography-verticalMargin-sm);--prose-table-lineHeight: var(--typography-lead-6);--prose-table-fontSize: var(--typography-fontSize-sm);--prose-table-margin: var(--typography-verticalMargin-base) 0;--prose-hr-margin: var(--typography-verticalMargin-base) 0;--prose-li-margin: var(--typography-verticalMargin-sm) 0;--prose-ol-margin: var(--typography-verticalMargin-base) 0;--prose-ul-margin: var(--typography-verticalMargin-base) 0;--prose-blockquote-margin: var(--typography-verticalMargin-base) 0;--prose-a-code-border-style: var(--prose-a-border-style-static);--prose-a-code-border-width: var(--prose-a-border-width);--prose-a-fontWeight: var(--typography-fontWeight-medium);--prose-img-margin: var(--typography-verticalMargin-base) 0;--prose-strong-fontWeight: var(--typography-fontWeight-semibold);--prose-h6-iconSize: var(--typography-fontSize-base);--prose-h6-fontWeight: var(--typography-fontWeight-semibold);--prose-h6-lineHeight: var(--typography-lead-normal);--prose-h6-fontSize: var(--typography-fontSize-lg);--prose-h5-iconSize: var(--typography-fontSize-lg);--prose-h5-fontWeight: var(--typography-fontWeight-semibold);--prose-h5-lineHeight: var(--typography-lead-snug);--prose-h5-fontSize: var(--typography-fontSize-xl);--prose-h4-iconSize: var(--typography-fontSize-lg);--prose-h4-letterSpacing: var(--typography-letterSpacing-tight);--prose-h4-fontWeight: var(--typography-fontWeight-semibold);--prose-h4-lineHeight: var(--typography-lead-snug);--prose-h4-fontSize: var(--typography-fontSize-2xl);--prose-h3-iconSize: var(--typography-fontSize-xl);--prose-h3-letterSpacing: var(--typography-letterSpacing-tight);--prose-h3-fontWeight: var(--typography-fontWeight-semibold);--prose-h3-lineHeight: var(--typography-lead-snug);--prose-h3-fontSize: var(--typography-fontSize-3xl);--prose-h2-iconSize: var(--typography-fontSize-2xl);--prose-h2-letterSpacing: var(--typography-letterSpacing-tight);--prose-h2-fontWeight: var(--typography-fontWeight-semibold);--prose-h2-lineHeight: var(--typography-lead-tight);--prose-h2-fontSize: var(--typography-fontSize-4xl);--prose-h1-iconSize: var(--typography-fontSize-3xl);--prose-h1-letterSpacing: var(--typography-letterSpacing-tight);--prose-h1-fontWeight: var(--typography-fontWeight-bold);--prose-h1-lineHeight: var(--typography-lead-tight);--prose-h1-fontSize: var(--typography-fontSize-5xl);--prose-p-br-margin: var(--typography-verticalMargin-base) 0 0 0;--prose-p-margin: var(--typography-verticalMargin-base) 0;--prose-p-lineHeight: var(--typography-lead-normal);--prose-p-fontSize: var(--typography-fontSize-base);--typography-color-secondary-900: var(--color-gray-900);--typography-color-secondary-800: var(--color-gray-800);--typography-color-secondary-700: var(--color-gray-700);--typography-color-secondary-600: var(--color-gray-600);--typography-color-secondary-500: var(--color-gray-500);--typography-color-secondary-400: var(--color-gray-400);--typography-color-secondary-300: var(--color-gray-300);--typography-color-secondary-200: var(--color-gray-200);--typography-color-secondary-100: var(--color-gray-100);--typography-color-secondary-50: var(--color-gray-50);--typography-color-primary-900: var(--color-primary-900);--typography-color-primary-800: var(--color-primary-800);--typography-color-primary-700: var(--color-primary-700);--typography-color-primary-600: var(--color-primary-600);--typography-color-primary-500: var(--color-primary-500);--typography-color-primary-400: var(--color-primary-400);--typography-color-primary-300: var(--color-primary-300);--typography-color-primary-200: var(--color-primary-200);--typography-color-primary-100: var(--color-primary-100);--typography-color-primary-50: var(--color-primary-50);--typography-font-code: var(--font-mono);--typography-font-body: var(--font-sans);--typography-font-display: var(--font-sans);--typography-body-backgroundColor: var(--color-white);--typography-body-color: var(--color-black);--elements-state-danger-borderColor-secondary: var(--color-red-200);--elements-state-danger-borderColor-primary: var(--color-red-100);--elements-state-danger-backgroundColor-secondary: var(--color-red-100);--elements-state-danger-backgroundColor-primary: var(--color-red-50);--elements-state-danger-color-secondary: var(--color-red-600);--elements-state-danger-color-primary: var(--color-red-500);--elements-state-warning-borderColor-secondary: var(--color-yellow-200);--elements-state-warning-borderColor-primary: var(--color-yellow-100);--elements-state-warning-backgroundColor-secondary: var(--color-yellow-100);--elements-state-warning-backgroundColor-primary: var(--color-yellow-50);--elements-state-warning-color-secondary: var(--color-yellow-700);--elements-state-warning-color-primary: var(--color-yellow-600);--elements-state-success-borderColor-secondary: var(--color-green-200);--elements-state-success-borderColor-primary: var(--color-green-100);--elements-state-success-backgroundColor-secondary: var(--color-green-100);--elements-state-success-backgroundColor-primary: var(--color-green-50);--elements-state-success-color-secondary: var(--color-green-600);--elements-state-success-color-primary: var(--color-green-500);--elements-state-info-borderColor-secondary: var(--color-blue-200);--elements-state-info-borderColor-primary: var(--color-blue-100);--elements-state-info-backgroundColor-secondary: var(--color-blue-100);--elements-state-info-backgroundColor-primary: var(--color-blue-50);--elements-state-info-color-secondary: var(--color-blue-600);--elements-state-info-color-primary: var(--color-blue-500);--elements-state-primary-borderColor-secondary: var(--color-primary-200);--elements-state-primary-borderColor-primary: var(--color-primary-100);--elements-state-primary-backgroundColor-secondary: var(--color-primary-100);--elements-state-primary-backgroundColor-primary: var(--color-primary-50);--elements-state-primary-color-secondary: var(--color-primary-700);--elements-state-primary-color-primary: var(--color-primary-600);--elements-surface-secondary-backgroundColor: var(--color-gray-200);--elements-surface-primary-backgroundColor: var(--color-gray-100);--elements-surface-background-base: var(--color-gray-100);--elements-border-secondary-static: var(--color-gray-200);--elements-border-primary-hover: var(--color-gray-200);--elements-border-primary-static: var(--color-gray-100);--elements-container-padding-md: var(--space-6);--elements-container-padding-sm: var(--space-6);--elements-container-padding-xs: var(--space-4);--elements-container-padding-mobile: var(--space-4);--elements-text-secondary-color-hover: var(--color-gray-700);--elements-text-secondary-color-static: var(--color-gray-500);--elements-text-primary-color-static: var(--color-gray-900);--text-6xl-lineHeight: var(--lead-none);--text-6xl-fontSize: var(--fontSize-6xl);--text-5xl-lineHeight: var(--lead-none);--text-5xl-fontSize: var(--fontSize-5xl);--text-4xl-lineHeight: var(--lead-10);--text-4xl-fontSize: var(--fontSize-4xl);--text-3xl-lineHeight: var(--lead-9);--text-3xl-fontSize: var(--fontSize-3xl);--text-2xl-lineHeight: var(--lead-8);--text-2xl-fontSize: var(--fontSize-2xl);--text-xl-lineHeight: var(--lead-7);--text-xl-fontSize: var(--fontSize-xl);--text-lg-lineHeight: var(--lead-7);--text-lg-fontSize: var(--fontSize-lg);--text-base-lineHeight: var(--lead-6);--text-base-fontSize: var(--fontSize-base);--text-sm-lineHeight: var(--lead-5);--text-sm-fontSize: var(--fontSize-sm);--text-xs-lineHeight: var(--lead-4);--text-xs-fontSize: var(--fontSize-xs);--color-shadow: var(--color-gray-400);--color-secondary-900: var(--color-gray-900);--color-secondary-800: var(--color-gray-800);--color-secondary-700: var(--color-gray-700);--color-secondary-600: var(--color-gray-600);--color-secondary-500: var(--color-gray-500);--color-secondary-400: var(--color-gray-400);--color-secondary-300: var(--color-gray-300);--color-secondary-200: var(--color-gray-200);--color-secondary-100: var(--color-gray-100);--color-secondary-50: var(--color-gray-50);--prose-code-inline-backgroundColor: var(--typography-color-secondary-100);--prose-code-inline-color: var(--typography-color-secondary-700);--prose-code-block-backgroundColor: var(--typography-color-secondary-100);--prose-code-block-color: var(--typography-color-secondary-700);--prose-code-block-border-color: var(--typography-color-secondary-200);--prose-tbody-tr-borderBottom-color: var(--typography-color-secondary-200);--prose-th-color: var(--typography-color-secondary-600);--prose-thead-borderBottom-color: var(--typography-color-secondary-200);--prose-thead-border-color: var(--typography-color-secondary-300);--prose-hr-color: var(--typography-color-secondary-200);--prose-blockquote-border-color: var(--typography-color-secondary-200);--prose-blockquote-color: var(--typography-color-secondary-500);--prose-a-code-background-hover: var(--typography-color-primary-50);--prose-a-code-border-color-hover: var(--typography-color-primary-500);--prose-a-code-border-color-static: var(--typography-color-secondary-400);--prose-a-color-hover: var(--typography-color-primary-500);--shadow-2xl: 0px 25px 50px -12px var(--color-shadow);--shadow-xl: 0px 20px 25px -5px var(--color-shadow), 0px 8px 10px -6px var(--color-shadow);--shadow-lg: 0px 10px 15px -3px var(--color-shadow), 0px 4px 6px -4px var(--color-shadow);--shadow-md: 0px 4px 6px -1px var(--color-shadow), 0px 2px 4px -2px var(--color-shadow);--shadow-sm: 0px 1px 3px 0px var(--color-shadow), 0px 1px 2px -1px var(--color-shadow);--shadow-xs: 0px 1px 2px 0px var(--color-shadow); } }@media { :root.dark {--pinceau-mq: dark; --prose-code-block-backdropFilter: contrast(1);--prose-ol-li-markerColor: currentColor;--prose-ul-li-markerColor: currentColor;--prose-a-code-color-hover: currentColor;--prose-a-code-color-static: currentColor;--prose-a-border-color-hover: currentColor;--prose-a-border-color-static: currentColor;--prose-a-color-static: inherit;--elements-backdrop-background: #0c0d0ccc;--docus-header-title-color-static: var(--color-gray-100);--docus-body-color: var(--color-gray-200);--docus-body-backgroundColor: var(--color-black);--typography-body-backgroundColor: var(--color-black);--typography-body-color: var(--color-white);--elements-state-danger-borderColor-secondary: var(--color-red-700);--elements-state-danger-borderColor-primary: var(--color-red-800);--elements-state-danger-backgroundColor-secondary: var(--color-red-800);--elements-state-danger-backgroundColor-primary: var(--color-red-900);--elements-state-danger-color-secondary: var(--color-red-200);--elements-state-danger-color-primary: var(--color-red-300);--elements-state-warning-borderColor-secondary: var(--color-yellow-700);--elements-state-warning-borderColor-primary: var(--color-yellow-800);--elements-state-warning-backgroundColor-secondary: var(--color-yellow-800);--elements-state-warning-backgroundColor-primary: var(--color-yellow-900);--elements-state-warning-color-secondary: var(--color-yellow-200);--elements-state-warning-color-primary: var(--color-yellow-400);--elements-state-success-borderColor-secondary: var(--color-green-700);--elements-state-success-borderColor-primary: var(--color-green-800);--elements-state-success-backgroundColor-secondary: var(--color-green-800);--elements-state-success-backgroundColor-primary: var(--color-green-900);--elements-state-success-color-secondary: var(--color-green-200);--elements-state-success-color-primary: var(--color-green-400);--elements-state-info-borderColor-secondary: var(--color-blue-700);--elements-state-info-borderColor-primary: var(--color-blue-800);--elements-state-info-backgroundColor-secondary: var(--color-blue-800);--elements-state-info-backgroundColor-primary: var(--color-blue-900);--elements-state-info-color-secondary: var(--color-blue-200);--elements-state-info-color-primary: var(--color-blue-400);--elements-state-primary-borderColor-secondary: var(--color-primary-700);--elements-state-primary-borderColor-primary: var(--color-primary-800);--elements-state-primary-backgroundColor-secondary: var(--color-primary-800);--elements-state-primary-backgroundColor-primary: var(--color-primary-900);--elements-state-primary-color-secondary: var(--color-primary-200);--elements-state-primary-color-primary: var(--color-primary-400);--elements-surface-secondary-backgroundColor: var(--color-gray-800);--elements-surface-primary-backgroundColor: var(--color-gray-900);--elements-surface-background-base: var(--color-gray-900);--elements-border-secondary-static: var(--color-gray-800);--elements-border-primary-hover: var(--color-gray-800);--elements-border-primary-static: var(--color-gray-900);--elements-text-secondary-color-hover: var(--color-gray-200);--elements-text-secondary-color-static: var(--color-gray-400);--elements-text-primary-color-static: var(--color-gray-50);--color-shadow: var(--color-gray-800);--prose-code-inline-backgroundColor: var(--typography-color-secondary-800);--prose-code-inline-color: var(--typography-color-secondary-200);--prose-code-block-backgroundColor: var(--typography-color-secondary-900);--prose-code-block-color: var(--typography-color-secondary-200);--prose-code-block-border-color: var(--typography-color-secondary-800);--prose-tbody-tr-borderBottom-color: var(--typography-color-secondary-800);--prose-th-color: var(--typography-color-secondary-400);--prose-thead-borderBottom-color: var(--typography-color-secondary-800);--prose-thead-border-color: var(--typography-color-secondary-600);--prose-hr-color: var(--typography-color-secondary-800);--prose-blockquote-border-color: var(--typography-color-secondary-700);--prose-blockquote-color: var(--typography-color-secondary-400);--prose-a-code-background-hover: var(--typography-color-primary-900);--prose-a-code-border-color-hover: var(--typography-color-primary-600);--prose-a-code-border-color-static: var(--typography-color-secondary-600);--prose-a-color-hover: var(--typography-color-primary-400); } }@media (min-width: 640px) { :root {--pinceau-mq: sm; --docus-footer-height: 100px;--docus-header-logo-height: var(--space-7); } }</style><style id="pinceau-runtime-hydratable">@media{.phy[--]{--puid:1CSQf5-v;}.pv-8SBDjI{padding-left:var(--elements-container-padding-mobile);padding-right:var(--elements-container-padding-mobile);}@media (min-width: 475px){.pv-8SBDjI{padding-left:var(--elements-container-padding-xs);padding-right:var(--elements-container-padding-xs);}}@media (min-width: 640px){.pv-8SBDjI{padding-left:var(--elements-container-padding-sm);padding-right:var(--elements-container-padding-sm);}}@media (min-width: 768px){.pv-8SBDjI{padding-left:var(--elements-container-padding-md);padding-right:var(--elements-container-padding-md);}}} @media{.phy[--]{--puid:wP1elH-v;}.pv-GgVP8G{max-width:var(--elements-container-maxWidth);padding-left:var(--elements-container-padding-mobile);padding-right:var(--elements-container-padding-mobile);}@media (min-width: 475px){.pv-GgVP8G{padding-left:var(--elements-container-padding-xs);padding-right:var(--elements-container-padding-xs);}}@media (min-width: 640px){.pv-GgVP8G{padding-left:var(--elements-container-padding-sm);padding-right:var(--elements-container-padding-sm);}}@media (min-width: 768px){.pv-GgVP8G{padding-left:var(--elements-container-padding-md);padding-right:var(--elements-container-padding-md);}}} </style><link rel="modulepreload" as="script" crossorigin href="/_nuxt/entry.88598ecb.js"><link rel="preload" as="style" href="/_nuxt/entry.c55c6baf.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/document-driven.ec2a563a.js"><link rel="preload" as="style" href="/_nuxt/ButtonLink.74c3aea5.css"><link rel="preload" as="style" href="/_nuxt/DocumentDrivenNotFound.f116a75f.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DocumentDrivenEmpty.1a1e38c0.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRenderer.6acde333.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRendererMarkdown.5d0f475c.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DocumentDrivenNotFound.9c2738de.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ButtonLink.675bc36e.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentSlot.03c71ebd.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/default.c12af17f.js"><link rel="preload" as="style" href="/_nuxt/DocsAside.2aff153a.css"><link rel="preload" as="style" href="/_nuxt/DocsPrevNext.4385ad09.css"><link rel="preload" as="style" href="/_nuxt/ProseA.baee409d.css"><link rel="preload" as="style" href="/_nuxt/DocsPageBottom.6610d11c.css"><link rel="preload" as="style" href="/_nuxt/DocsTocLinks.8101414c.css"><link rel="preload" as="style" href="/_nuxt/DocsToc.d132bc33.css"><link rel="preload" as="style" href="/_nuxt/DocsPageLayout.7c1b499e.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DocsPageLayout.02e73264.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DocsAside.cf595816.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DocsPrevNext.2a6df4e1.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DocsPageBottom.37cc739c.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseA.98b68cf7.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/EditOnLink.vue.b18137f3.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DocsToc.43487815.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DocsTocLinks.6b61455a.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/EditOnLink.a177a13b.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH1.7efe9cd2.js"><link rel="preload" as="style" href="/_nuxt/ProseH1.48e3ee79.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseP.1de35dab.js"><link rel="preload" as="style" href="/_nuxt/ProseP.b99f89cd.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCodeInline.a61fc223.js"><link rel="preload" as="style" href="/_nuxt/ProseCodeInline.873c7ac7.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH2.bcee57f7.js"><link rel="preload" as="style" href="/_nuxt/ProseH2.cc4fedda.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH3.d4e4df16.js"><link rel="preload" as="style" href="/_nuxt/ProseH3.60b6f0cb.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCode.4c7c0946.js"><link rel="preload" as="style" href="/_nuxt/ProseCode.07e596a7.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/index.01d800ea.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseUl.e39d2d7a.js"><link rel="preload" as="style" href="/_nuxt/ProseUl.a02dec6f.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseLi.b651293a.js"><link rel="preload" as="style" href="/_nuxt/ProseLi.a0b5f8a8.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH4.574969d0.js"><link rel="preload" as="style" href="/_nuxt/ProseH4.b0dd3c9c.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseStrong.6998f120.js"><link rel="preload" as="style" href="/_nuxt/ProseStrong.b01d4b3b.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseEm.53468a0b.js"><link rel="preload" as="style" href="/_nuxt/ProseEm.35a26f4d.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseTable.3734f13d.js"><link rel="preload" as="style" href="/_nuxt/ProseTable.d34ed667.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseThead.aca78e13.js"><link rel="preload" as="style" href="/_nuxt/ProseThead.01a5506b.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseTr.4519f02f.js"><link rel="preload" as="style" href="/_nuxt/ProseTr.a14ca635.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseTh.7801cb62.js"><link rel="preload" as="style" href="/_nuxt/ProseTh.b9477385.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseTbody.a1168f2e.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseTd.5ac87edd.js"><link rel="preload" as="style" href="/_nuxt/ProseTd.30dfa955.css"><link rel="prefetch" as="style" href="/_nuxt/page.72c99a42.css"><link rel="prefetch" as="script" crossorigin href="/_nuxt/page.8cba9128.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/client-db.77464dbf.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/debug.80f1f96f.js"><link rel="prefetch" as="style" href="/_nuxt/ContentPreviewMode.1ad2bf5f.css"><link rel="prefetch" as="script" crossorigin href="/_nuxt/useStudio.a824c63d.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/asyncData.091cd21c.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/error-component.31958b3d.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/giscus-a53917f0.fbc3188d.js"><link rel="stylesheet" href="/_nuxt/entry.c55c6baf.css"><link rel="stylesheet" href="/_nuxt/ButtonLink.74c3aea5.css"><link rel="stylesheet" href="/_nuxt/DocumentDrivenNotFound.f116a75f.css"><link rel="stylesheet" href="/_nuxt/DocsAside.2aff153a.css"><link rel="stylesheet" href="/_nuxt/DocsPrevNext.4385ad09.css"><link rel="stylesheet" href="/_nuxt/ProseA.baee409d.css"><link rel="stylesheet" href="/_nuxt/DocsPageBottom.6610d11c.css"><link rel="stylesheet" href="/_nuxt/DocsTocLinks.8101414c.css"><link rel="stylesheet" href="/_nuxt/DocsToc.d132bc33.css"><link rel="stylesheet" href="/_nuxt/DocsPageLayout.7c1b499e.css"><link rel="stylesheet" href="/_nuxt/ProseH1.48e3ee79.css"><link rel="stylesheet" href="/_nuxt/ProseP.b99f89cd.css"><link rel="stylesheet" href="/_nuxt/ProseCodeInline.873c7ac7.css"><link rel="stylesheet" href="/_nuxt/ProseH2.cc4fedda.css"><link rel="stylesheet" href="/_nuxt/ProseH3.60b6f0cb.css"><link rel="stylesheet" href="/_nuxt/ProseCode.07e596a7.css"><link rel="stylesheet" href="/_nuxt/ProseUl.a02dec6f.css"><link rel="stylesheet" href="/_nuxt/ProseLi.a0b5f8a8.css"><link rel="stylesheet" href="/_nuxt/ProseH4.b0dd3c9c.css"><link rel="stylesheet" href="/_nuxt/ProseStrong.b01d4b3b.css"><link rel="stylesheet" href="/_nuxt/ProseEm.35a26f4d.css"><link rel="stylesheet" href="/_nuxt/ProseTable.d34ed667.css"><link rel="stylesheet" href="/_nuxt/ProseThead.01a5506b.css"><link rel="stylesheet" href="/_nuxt/ProseTr.a14ca635.css"><link rel="stylesheet" href="/_nuxt/ProseTh.b9477385.css"><link rel="stylesheet" href="/_nuxt/ProseTd.30dfa955.css"><script>"use strict";const w=window,de=document.documentElement,knownColorSchemes=["dark","light"],preference=window.localStorage.getItem("nuxt-color-mode")||"system";let value=preference==="system"?getColorScheme():preference;const forcedColorMode=de.getAttribute("data-color-mode-forced");forcedColorMode&&(value=forcedColorMode),addColorScheme(value),w["__NUXT_COLOR_MODE__"]={preference,value,getColorScheme,addColorScheme,removeColorScheme};function addColorScheme(e){const o=""+e+"",t="theme";de.classList?de.classList.add(o):de.className+=" "+o,t&&de.setAttribute("data-"+t,e)}function removeColorScheme(e){const o=""+e+"",t="theme";de.classList?de.classList.remove(o):de.className=de.className.replace(new RegExp(o,"g"),""),t&&de.removeAttribute("data-"+t)}function prefersColorScheme(e){return w.matchMedia("(prefers-color-scheme"+e+")")}function getColorScheme(){if(w.matchMedia&&prefersColorScheme("").media!=="not all"){for(const e of knownColorSchemes)if(prefersColorScheme(":"+e).matches)return e}return"light"}
</script>
<script>
async function register () {
  const registration = await navigator.serviceWorker.register('/sw.js')
  await navigator.serviceWorker.ready
  registration.active.addEventListener('statechange', (event) => {
    if (event.target.state === 'activated') {
      window.location.reload()
    }
  })
}
if ('serviceWorker' in navigator) {
  if (location.hostname !== 'localhost' && location.protocol === 'http:') {
    location.replace(location.href.replace('http://', 'https://'))
  } else {
    register()
  }
}
</script>

</head>
<body ><!----><!--teleport anchor--><div id="__nuxt"><div class="app-layout" data-v-44d1340b><div class="nuxt-progress" style="width:0%;opacity:0;background-size:Infinity% auto;" data-v-44d1340b></div><header class="has-dialog" data-v-44d1340b data-v-e943fcc9><div class="container pv-8SBDjI pc-1CSQf5" data-v-e943fcc9 data-v-6d327d86><!--[--><div class="section left" data-v-e943fcc9><!--[--><button aria-label="Menu" data-v-f3d8e7e6><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" role="img" class="icon" data-v-f3d8e7e6 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-121c6e7d><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg></button><!--teleport start--><!--teleport end--><!--]--><a href="/" class="navbar-logo" aria-label="Fabric Community Wiki" data-v-e943fcc9 data-v-eb3ac37e><span class="title" data-v-eb3ac37e>Fabric Community Wiki</span></a></div><div class="section center" data-v-e943fcc9><a href="/" class="navbar-logo" aria-label="Fabric Community Wiki" data-v-e943fcc9 data-v-eb3ac37e><span class="title" data-v-eb3ac37e>Fabric Community Wiki</span></a><!----></div><div class="section right" data-v-e943fcc9><!----><button aria-label="Color Mode" data-v-e943fcc9 data-v-d308b8bb><span data-v-d308b8bb>...</span></button><div class="social-icons" data-v-e943fcc9><!--[--><a href="https://discord.gg/UzHtJKqHny" rel="noopener noreferrer" target="_blank" title="Discord" aria-label="Discord" data-v-d86bb3fa><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-d86bb3fa style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-121c6e7d><path fill="currentColor" d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418Z"/></svg></a><a href="https://github.com/mineblock11/fabric-community-wiki" rel="noopener noreferrer" target="_blank" title="mineblock11/fabric-community-wiki" aria-label="mineblock11/fabric-community-wiki" data-v-d86bb3fa><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-d86bb3fa style="" width="1em" height="1em" viewBox="0 0 496 512" data-v-121c6e7d><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6c-3.3.3-5.6-1.3-5.6-3.6c0-2 2.3-3.6 5.2-3.6c3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9c2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9c.3 2 2.9 3.3 5.9 2.6c2.9-.7 4.9-2.6 4.6-4.6c-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2c12.8 2.3 17.3-5.6 17.3-12.1c0-6.2-.3-40.4-.3-61.4c0 0-70 15-84.7-29.8c0 0-11.4-29.1-27.8-36.6c0 0-22.9-15.7 1.6-15.4c0 0 24.9 2 38.6 25.8c21.9 38.6 58.6 27.5 72.9 20.9c2.3-16 8.8-27.1 16-33.7c-55.9-6.2-112.3-14.3-112.3-110.5c0-27.5 7.6-41.3 23.6-58.9c-2.6-6.5-11.1-33.3 2.6-67.9c20.9-6.5 69 27 69 27c20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27c13.7 34.7 5.2 61.4 2.6 67.9c16 17.7 25.8 31.5 25.8 58.9c0 96.5-58.9 104.2-114.8 110.5c9.2 7.9 17 22.9 17 46.4c0 33.7-.3 75.4-.3 83.6c0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252C496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2c1.6 1.6 3.9 2.3 5.2 1c1.3-1 1-3.3-.7-5.2c-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9c1.6 1 3.6.7 4.3-.7c.7-1.3-.3-2.9-2.3-3.9c-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2c2.3 2.3 5.2 2.6 6.5 1c1.3-1.3.7-4.3-1.3-6.2c-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9c1.6 2.3 4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2c-1.4-2.3-4-3.3-5.6-2z"/></svg></a><!--]--></div></div><!--]--></div></header><main data-v-44d1340b><!--[--><!--[--><div class="document-driven-page"><!--[--><div class="container pv-8SBDjI pc-LdlK0N docs-page-content fluid has-toc has-aside" data-v-36be3338 data-v-6d327d86><!--[--><aside class="aside-nav" data-v-36be3338><nav class="app-aside" data-v-36be3338 data-v-1c6aa5af><ul class="docs-aside-tree" data-v-1c6aa5af data-v-508a32b5><!--[--><li class="" data-v-508a32b5><a href="/" class="link" data-v-508a32b5><span class="content" data-v-508a32b5><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-508a32b5 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-121c6e7d><path fill="currentColor" d="M10 20v-6h4v6h5v-8h3L12 3L2 12h3v8h5Z"/></svg><span data-v-508a32b5>Homepage</span></span></a><!----></li><li class="" data-v-508a32b5><a href="/archives" class="link" data-v-508a32b5><span class="content" data-v-508a32b5><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-508a32b5 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-121c6e7d><path fill="currentColor" d="M3 3h18v4H3V3m1 5h16v13H4V8m5.5 3a.5.5 0 0 0-.5.5V13h6v-1.5a.5.5 0 0 0-.5-.5h-5Z"/></svg><span data-v-508a32b5>Archived Pages</span></span></a><!----></li><li class="" data-v-508a32b5><a href="/contribute" class="link" data-v-508a32b5><span class="content" data-v-508a32b5><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-508a32b5 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-121c6e7d><path fill="currentColor" d="M6 3a3 3 0 0 1 3 3c0 1.31-.83 2.42-2 2.83v6.34c1.17.41 2 1.52 2 2.83a3 3 0 0 1-3 3a3 3 0 0 1-3-3c0-1.31.83-2.42 2-2.83V8.83A2.99 2.99 0 0 1 3 6a3 3 0 0 1 3-3m0 2a1 1 0 0 0-1 1a1 1 0 0 0 1 1a1 1 0 0 0 1-1a1 1 0 0 0-1-1m0 12a1 1 0 0 0-1 1a1 1 0 0 0 1 1a1 1 0 0 0 1-1a1 1 0 0 0-1-1m15 1a3 3 0 0 1-3 3a3 3 0 0 1-3-3c0-1.31.83-2.42 2-2.83V7h-2v3.25L10.75 6L15 1.75V5h2a2 2 0 0 1 2 2v8.17c1.17.41 2 1.52 2 2.83m-3-1a1 1 0 0 0-1 1a1 1 0 0 0 1 1a1 1 0 0 0 1-1a1 1 0 0 0-1-1Z"/></svg><span data-v-508a32b5>Contribute</span></span></a><!----></li><li class="" data-v-508a32b5><a href="/legal" class="link" data-v-508a32b5><span class="content" data-v-508a32b5><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-508a32b5 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-121c6e7d><path fill="currentColor" d="M12 3c-1.27 0-2.4.8-2.82 2H3v2h1.95L2 14c-.47 2 1 3 3.5 3s4.06-1 3.5-3L6.05 7h3.12c.33.85.98 1.5 1.83 1.83V20H2v2h20v-2h-9V8.82c.85-.32 1.5-.97 1.82-1.82h3.13L15 14c-.47 2 1 3 3.5 3s4.06-1 3.5-3l-2.95-7H21V5h-6.17C14.4 3.8 13.27 3 12 3m0 2a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m-6.5 5.25L7 14H4l1.5-3.75m13 0L20 14h-3l1.5-3.75Z"/></svg><span data-v-508a32b5>Legal</span></span></a><!----></li><li class="" data-v-508a32b5><button class="title-collapsible-button" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Creating Your First Mod</span></span><span data-v-508a32b5><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon collapsible-icon" data-v-508a32b5 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-121c6e7d><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m7 20l5-5l5 5M7 4l5 5l5-5"/></svg></span></button><ul class="docs-aside-tree recursive" style="" data-v-508a32b5 data-v-508a32b5><!--[--><li class="bordered" data-v-508a32b5><a href="/introduction/introduction_to_modding" class="link padded" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Introduction to Modding</span></span></a><!----></li><li class="bordered" data-v-508a32b5><a href="/introduction/creating_your_first_project" class="link padded" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Creating Your First Project</span></span></a><!----></li><li class="has-children bordered" data-v-508a32b5><button class="title-collapsible-button" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Mixin Basics</span></span><span data-v-508a32b5><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon collapsible-icon" data-v-508a32b5 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-121c6e7d><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m7 15l5 5l5-5M7 9l5-5l5 5"/></svg></span></button><ul class="docs-aside-tree recursive" style="display:none;" data-v-508a32b5 data-v-508a32b5><!--[--><li class="bordered" data-v-508a32b5><a href="/introduction/mixins" class="link padded" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Mixin Basics</span></span></a><!----></li><li class="bordered" data-v-508a32b5><a href="/introduction/mixins/mixin_applications" class="link padded" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Mixin Applications</span></span></a><!----></li><!--]--></ul></li><li class="bordered" data-v-508a32b5><a href="/introduction/access_wideners" class="link padded" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Access Wideners</span></span></a><!----></li><li class="bordered" data-v-508a32b5><a href="/introduction/what_now" class="link padded" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>What Now?</span></span></a><!----></li><!--]--></ul></li><li class="" data-v-508a32b5><button class="title-collapsible-button" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Adding Items</span></span><span data-v-508a32b5><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon collapsible-icon" data-v-508a32b5 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-121c6e7d><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m7 20l5-5l5 5M7 4l5 5l5-5"/></svg></span></button><ul class="docs-aside-tree recursive" style="" data-v-508a32b5 data-v-508a32b5><!--[--><li class="bordered" data-v-508a32b5><a href="/items/creating-first-item" class="link padded" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Creating Your First Item</span></span></a><!----></li><li class="bordered" data-v-508a32b5><a href="/items/food" class="link padded" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Food</span></span></a><!----></li><li class="bordered" data-v-508a32b5><a href="/items/tools" class="link padded" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Tools</span></span></a><!----></li><li class="bordered" data-v-508a32b5><a href="/items/armor" class="link padded" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Armor</span></span></a><!----></li><li class="bordered" data-v-508a32b5><a href="/items/item-groups" class="link padded" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Custom Item Groups</span></span></a><!----></li><li class="bordered" data-v-508a32b5><a href="/items/interactive-items" class="link padded" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Interactive Items</span></span></a><!----></li><!--]--></ul></li><li class="" data-v-508a32b5><button class="title-collapsible-button" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Adding Blocks</span></span><span data-v-508a32b5><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon collapsible-icon" data-v-508a32b5 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-121c6e7d><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m7 20l5-5l5 5M7 4l5 5l5-5"/></svg></span></button><ul class="docs-aside-tree recursive" style="" data-v-508a32b5 data-v-508a32b5><!--[--><li class="bordered" data-v-508a32b5><a href="/blocks/creating-first-block" class="link padded" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Creating Your First Block</span></span></a><!----></li><li class="bordered" data-v-508a32b5><a href="/blocks/blockstates" class="link padded" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Block States</span></span></a><!----></li><li class="bordered" data-v-508a32b5><a href="/blocks/blockentities" class="link padded" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Block Entities</span></span></a><!----></li><!--]--></ul></li><li class="" data-v-508a32b5><button class="title-collapsible-button" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Data Generation</span></span><span data-v-508a32b5><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon collapsible-icon" data-v-508a32b5 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-121c6e7d><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m7 20l5-5l5 5M7 4l5 5l5-5"/></svg></span></button><ul class="docs-aside-tree recursive" style="" data-v-508a32b5 data-v-508a32b5><!--[--><li class="bordered" data-v-508a32b5><a href="/datagen/setup" class="link padded" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Data Generation Setup</span></span></a><!----></li><li class="bordered" data-v-508a32b5><a href="/datagen/translation-provider" class="link padded" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Translation Provider</span></span></a><!----></li><li class="bordered" data-v-508a32b5><a href="/datagen/tag-provider" class="link padded" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Tag Provider</span></span></a><!----></li><li class="bordered" data-v-508a32b5><a href="/datagen/loot-table-provider" class="link padded" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Loot Table Provider</span></span></a><!----></li><!--]--></ul></li><li class="" data-v-508a32b5><button class="title-collapsible-button" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Rendering</span></span><span data-v-508a32b5><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon collapsible-icon" data-v-508a32b5 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-121c6e7d><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m7 20l5-5l5 5M7 4l5 5l5-5"/></svg></span></button><ul class="docs-aside-tree recursive" style="" data-v-508a32b5 data-v-508a32b5><!--[--><li class="bordered" data-v-508a32b5><a href="/rendering/basics" class="link padded" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Basics Of Rendering</span></span></a><!----></li><li class="bordered" data-v-508a32b5><a href="/rendering/matrices" class="link padded" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Matrices</span></span></a><!----></li><li class="bordered" data-v-508a32b5><a href="/rendering/world" class="link padded" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Rendering in the World</span></span></a><!----></li><!--]--></ul></li><li class="" data-v-508a32b5><button class="title-collapsible-button" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Miscelaneous Pages</span></span><span data-v-508a32b5><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon collapsible-icon" data-v-508a32b5 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-121c6e7d><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m7 20l5-5l5 5M7 4l5 5l5-5"/></svg></span></button><ul class="docs-aside-tree recursive" style="" data-v-508a32b5 data-v-508a32b5><!--[--><li class="bordered" data-v-508a32b5><a href="/misc/basic-problem-solving" class="link padded" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Basic Problem Solving</span></span></a><!----></li><li class="bordered active" data-v-508a32b5><a aria-current="page" href="/misc/codecs" class="router-link-active router-link-exact-active link padded active" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Codecs</span></span></a><!----></li><li class="bordered" data-v-508a32b5><a href="/misc/creating-events" class="link padded" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Creating Fabric API Events</span></span></a><!----></li><li class="bordered" data-v-508a32b5><a href="/misc/creating-particles-factories" class="link padded" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Creating Particle Factories</span></span></a><!----></li><li class="bordered" data-v-508a32b5><a href="/misc/creating-particles" class="link padded" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Creating Custom Particles</span></span></a><!----></li><li class="bordered" data-v-508a32b5><a href="/misc/custom-sounds" class="link padded" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Creating Custom Sounds</span></span></a><!----></li><li class="bordered" data-v-508a32b5><a href="/misc/text-and-translations" class="link padded" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Text and Translations</span></span></a><!----></li><li class="bordered" data-v-508a32b5><a href="/misc/using-events" class="link padded" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Using Fabric API Events</span></span></a><!----></li><li class="bordered" data-v-508a32b5><a href="/misc/using-sound" class="link padded" data-v-508a32b5><span class="content" data-v-508a32b5><!----><span data-v-508a32b5>Playing Sounds</span></span></a><!----></li><!--]--></ul></li><!--]--></ul></nav></aside><article class="page-body" data-v-36be3338><!--[--><!--[--><div><h1 id="codecs" data-v-a5759516><a aria-current="page" href="/misc/codecs#codecs" class="router-link-active router-link-exact-active" data-v-a5759516><!--[-->Codecs<!--]--><!----></a></h1><p data-v-63bfa697><!--[-->Codec is a system for easily and functionally serializing java objects, and is included in Mojang&#39;s DataFixerUpper (DFU)
library. In a modding context they are usually used as an alternative to GSON and Jankson when reading and writing
custom json files, but they tend to be useful in many other situations as well.<!--]--></p><p data-v-63bfa697><!--[-->They are used in conjunction with another API from DFU, <code data-v-c81ed8f1><!--[-->DynamicOps<!--]--></code>. A codec defines the structure of an object, while
dynamic ops are used to define a format to be serialized to and from, such as json or NBT. This means any codec can be
used with any dynamic ops, and vice versa, allowing for great flexibility.<!--]--></p><h2 id="using-codecs" data-v-1daf0210><a aria-current="page" href="/misc/codecs#using-codecs" class="router-link-active router-link-exact-active" data-v-1daf0210><!--[-->Using Codecs<!--]--><!----></a></h2><h3 id="serializing-and-deserializing" data-v-4ddca5e2><a aria-current="page" href="/misc/codecs#serializing-and-deserializing" class="router-link-active router-link-exact-active" data-v-4ddca5e2><!--[-->Serializing and Deserializing<!--]--><!----></a></h3><p data-v-63bfa697><!--[-->The basic usage of a codec is to serialize and deserialize objects to and from a specific format.<!--]--></p><p data-v-63bfa697><!--[-->Since a few vanilla classes already have codecs defined, we can use those as an example. Mojang has also provided us
with two dynamic ops classes by default, <code data-v-c81ed8f1><!--[-->JsonOps<!--]--></code> and <code data-v-c81ed8f1><!--[-->NbtOps<!--]--></code>, which tend to cover most use cases.<!--]--></p><p data-v-63bfa697><!--[-->Now, let&#39;s say we want to serialize a <code data-v-c81ed8f1><!--[-->BlockPos<!--]--></code> to json and back. We can do this using the codec statically stored
at <code data-v-c81ed8f1><!--[-->BlockPos.CODEC<!--]--></code> with the <code data-v-c81ed8f1><!--[-->Codec#encodeStart<!--]--></code> and <code data-v-c81ed8f1><!--[-->Codec#parse<!--]--></code> methods, respectively.<!--]--></p><div class="highlight-java prose-code" data-v-bfc7416e><!----><!--[--><pre><code><span class="line" line="1"><span class="ct-6b7995">BlockPos</span><span class="ct-6a99cf"> </span><span class="ct-6b7995">pos</span><span class="ct-6a99cf"> </span><span class="ct-c7e4a7">=</span><span class="ct-6b7995"> </span><span class="ct-c7e4a7">new</span><span class="ct-6b7995"> </span><span class="ct-7bd8d7">BlockPos</span><span class="ct-6b7995">(</span><span class="ct-cbb79b">1</span><span class="ct-6b7995">, </span><span class="ct-cbb79b">2</span><span class="ct-6b7995">, </span><span class="ct-cbb79b">3</span><span class="ct-6b7995">);
</span></span><span class="line" line="2"><span>
</span></span><span class="line" line="3"><span class="ct-ea7a7d">// Serialize the BlockPos to a JsonElement
</span></span><span class="line" line="4"><span class="ct-6b7995">DataResult</span><span class="ct-6a99cf">&lt;</span><span class="ct-c7e4a7">JsonElement</span><span class="ct-6a99cf">&gt; </span><span class="ct-6b7995">result</span><span class="ct-6a99cf"> </span><span class="ct-c7e4a7">=</span><span class="ct-6b7995"> BlockPos.CODEC.</span><span class="ct-7bd8d7">encodeStart</span><span class="ct-6b7995">(JsonOps.INSTANCE, pos);</span></span></code></pre><!--]--><button class="copy-button" data-v-bfc7416e data-v-75636234><span class="sr-only" data-v-75636234>Copy to clipboard</span><span class="icon-wrapper" data-v-75636234><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-75636234 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-121c6e7d><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-63bfa697><!--[-->When using a codec, values are returned in the form of a <code data-v-c81ed8f1><!--[-->DataResult<!--]--></code>. This is a wrapper that can represent either a
success or a failure. We can use this in several ways: If we just want our serialized value, <code data-v-c81ed8f1><!--[-->DataResult#result<!--]--></code> will
simply return an <code data-v-c81ed8f1><!--[-->Optional<!--]--></code> containing our value, while <code data-v-c81ed8f1><!--[-->DataResult#resultOrPartial<!--]--></code> also lets us supply a function to
handle any errors that may have occurred. The latter is particularly useful for custom datapack resources, where we&#39;d
want to log errors without causing issues elsewhere.<!--]--></p><p data-v-63bfa697><!--[-->So let&#39;s grab our serialized value and turn it back into a <code data-v-c81ed8f1><!--[-->BlockPos<!--]--></code>:<!--]--></p><div class="highlight-java prose-code" data-v-bfc7416e><!----><!--[--><pre><code><span class="line" line="1"><span class="ct-ea7a7d">// When actually writing a mod, you&#39;ll want to properly handle empty Optionals of course
</span></span><span class="line" line="2"><span class="ct-6b7995">JsonElement</span><span class="ct-6a99cf"> </span><span class="ct-6b7995">json</span><span class="ct-6a99cf"> </span><span class="ct-c7e4a7">=</span><span class="ct-6b7995"> result.</span><span class="ct-7bd8d7">resultOrPartial</span><span class="ct-6b7995">(LOGGER</span><span class="ct-c7e4a7">::</span><span class="ct-6b7995">error).</span><span class="ct-7bd8d7">orElseThrow</span><span class="ct-6b7995">();
</span></span><span class="line" line="3"><span>
</span></span><span class="line" line="4"><span class="ct-ea7a7d">// Here we have our json value, which should correspond to `[1, 2, 3]`, 
</span></span><span class="line" line="5"><span class="ct-ea7a7d">// as that&#39;s the format used by the BlockPos codec.
</span></span><span class="line" line="6"><span class="ct-6b7995">LOGGER.</span><span class="ct-7bd8d7">info</span><span class="ct-6b7995">(</span><span class="ct-773808">&quot;Serialized BlockPos: {}&quot;</span><span class="ct-6b7995">, json);
</span></span><span class="line" line="7"><span>
</span></span><span class="line" line="8"><span class="ct-ea7a7d">// Now we&#39;ll deserialize the JsonElement back into a BlockPos
</span></span><span class="line" line="9"><span class="ct-6b7995">DataResult</span><span class="ct-6a99cf">&lt;</span><span class="ct-c7e4a7">BlockPos</span><span class="ct-6a99cf">&gt; </span><span class="ct-6b7995">result</span><span class="ct-6a99cf"> </span><span class="ct-c7e4a7">=</span><span class="ct-6b7995"> BlockPos.CODEC.</span><span class="ct-7bd8d7">parse</span><span class="ct-6b7995">(JsonOps.INSTANCE, json);
</span></span><span class="line" line="10"><span>
</span></span><span class="line" line="11"><span class="ct-ea7a7d">// Again, we&#39;ll just grab our value from the result
</span></span><span class="line" line="12"><span class="ct-6b7995">BlockPos</span><span class="ct-6a99cf"> </span><span class="ct-6b7995">pos</span><span class="ct-6a99cf"> </span><span class="ct-c7e4a7">=</span><span class="ct-6b7995"> result.</span><span class="ct-7bd8d7">resultOrPartial</span><span class="ct-6b7995">(LOGGER</span><span class="ct-c7e4a7">::</span><span class="ct-6b7995">error).</span><span class="ct-7bd8d7">orElseThrow</span><span class="ct-6b7995">();
</span></span><span class="line" line="13"><span>
</span></span><span class="line" line="14"><span class="ct-ea7a7d">// And we can see that we&#39;ve successfully serialized and deserialized our BlockPos!
</span></span><span class="line" line="15"><span class="ct-6b7995">LOGGER.</span><span class="ct-7bd8d7">info</span><span class="ct-6b7995">(</span><span class="ct-773808">&quot;Deserialized BlockPos: {}&quot;</span><span class="ct-6b7995">, pos);</span></span></code></pre><!--]--><button class="copy-button" data-v-bfc7416e data-v-75636234><span class="sr-only" data-v-75636234>Copy to clipboard</span><span class="icon-wrapper" data-v-75636234><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-75636234 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-121c6e7d><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h3 id="built-in-codecs" data-v-4ddca5e2><a aria-current="page" href="/misc/codecs#built-in-codecs" class="router-link-active router-link-exact-active" data-v-4ddca5e2><!--[-->Built-in Codecs<!--]--><!----></a></h3><p data-v-63bfa697><!--[-->As mentioned earlier, Mojang has already defined codecs for several vanilla and standard Java classes, including but not
limited to <code data-v-c81ed8f1><!--[-->BlockPos<!--]--></code>, <code data-v-c81ed8f1><!--[-->BlockState<!--]--></code>, <code data-v-c81ed8f1><!--[-->ItemStack<!--]--></code>, <code data-v-c81ed8f1><!--[-->Identifier<!--]--></code>, <code data-v-c81ed8f1><!--[-->Text<!--]--></code>, and regex <code data-v-c81ed8f1><!--[-->Pattern<!--]--></code>s. Codecs for Mojang&#39;s own
classes are usually found as static fields named <code data-v-c81ed8f1><!--[-->CODEC<!--]--></code> on the class itself, while most others are kept in the <code data-v-c81ed8f1><!--[-->Codecs<!--]--></code>
class. It should also be noted that all vanilla registries contain a <code data-v-c81ed8f1><!--[-->getCodec()<!--]--></code> method, for example, you
can use <code data-v-c81ed8f1><!--[-->Registries.BLOCK.getCodec()<!--]--></code> to get a <code data-v-c81ed8f1><!--[-->Codec&lt;Block&gt;<!--]--></code> which serializes to the block id and back.<!--]--></p><p data-v-63bfa697><!--[-->The codec api itself also contains some codecs for primitive types, such as <code data-v-c81ed8f1><!--[-->Codec.INT<!--]--></code> and <code data-v-c81ed8f1><!--[-->Codec.STRING<!--]--></code>. These are
available as statics on the <code data-v-c81ed8f1><!--[-->Codec<!--]--></code> class, and are usually used as the base for more complex codecs, as explained below.<!--]--></p><h2 id="building-codecs" data-v-1daf0210><a aria-current="page" href="/misc/codecs#building-codecs" class="router-link-active router-link-exact-active" data-v-1daf0210><!--[-->Building Codecs<!--]--><!----></a></h2><p data-v-63bfa697><!--[-->Now that we&#39;ve seen how to use codecs, let&#39;s take a look at how we can build our own. Suppose we have the following
class, and we want to deserialize instances of it from json files:<!--]--></p><div class="highlight-java prose-code" data-v-bfc7416e><!----><!--[--><pre><code><span class="line" line="1"><span class="ct-c7e4a7">public</span><span class="ct-6b7995"> </span><span class="ct-c7e4a7">class</span><span class="ct-6b7995"> </span><span class="ct-6a99cf">CoolBeansClass</span><span class="ct-6b7995"> {
</span></span><span class="line" line="2"><span class="ct-6b7995">    
</span></span><span class="line" line="3"><span class="ct-6b7995">    </span><span class="ct-c7e4a7">private</span><span class="ct-6b7995"> </span><span class="ct-c7e4a7">final</span><span class="ct-6b7995"> </span><span class="ct-c7e4a7">int</span><span class="ct-6a99cf"> </span><span class="ct-6b7995">beansAmount;
</span></span><span class="line" line="4"><span class="ct-6b7995">    </span><span class="ct-c7e4a7">private</span><span class="ct-6b7995"> </span><span class="ct-c7e4a7">final</span><span class="ct-6b7995"> Item</span><span class="ct-6a99cf"> </span><span class="ct-6b7995">beanType;
</span></span><span class="line" line="5"><span class="ct-6b7995">    </span><span class="ct-c7e4a7">private</span><span class="ct-6b7995"> </span><span class="ct-c7e4a7">final</span><span class="ct-6b7995"> List</span><span class="ct-6a99cf">&lt;</span><span class="ct-c7e4a7">BlockPos</span><span class="ct-6a99cf">&gt; </span><span class="ct-6b7995">beanPositions;
</span></span><span class="line" line="6"><span>
</span></span><span class="line" line="7"><span class="ct-6b7995">    </span><span class="ct-c7e4a7">public</span><span class="ct-6b7995"> </span><span class="ct-7bd8d7">CoolBeansClass</span><span class="ct-6b7995">(</span><span class="ct-c7e4a7">int</span><span class="ct-6b7995"> </span><span class="ct-6a99cf">beansAmount</span><span class="ct-6b7995">, Item </span><span class="ct-6a99cf">beanType</span><span class="ct-6b7995">, List&lt;</span><span class="ct-c7e4a7">BlockPos</span><span class="ct-6b7995">&gt; </span><span class="ct-6a99cf">beanPositions</span><span class="ct-6b7995">) {...}
</span></span><span class="line" line="8"><span>
</span></span><span class="line" line="9"><span class="ct-6b7995">    </span><span class="ct-c7e4a7">public</span><span class="ct-6b7995"> </span><span class="ct-c7e4a7">int</span><span class="ct-6b7995"> </span><span class="ct-7bd8d7">getBeansAmount</span><span class="ct-6b7995">() { </span><span class="ct-c7e4a7">return</span><span class="ct-6b7995"> </span><span class="ct-cbb79b">this</span><span class="ct-6b7995">.beansAmount; }
</span></span><span class="line" line="10"><span class="ct-6b7995">    </span><span class="ct-c7e4a7">public</span><span class="ct-6b7995"> Item </span><span class="ct-7bd8d7">getBeanType</span><span class="ct-6b7995">() { </span><span class="ct-c7e4a7">return</span><span class="ct-6b7995"> </span><span class="ct-cbb79b">this</span><span class="ct-6b7995">.beanType; }
</span></span><span class="line" line="11"><span class="ct-6b7995">    </span><span class="ct-c7e4a7">public</span><span class="ct-6b7995"> List&lt;</span><span class="ct-c7e4a7">BlockPos</span><span class="ct-6b7995">&gt; </span><span class="ct-7bd8d7">getBeanPositions</span><span class="ct-6b7995">() { </span><span class="ct-c7e4a7">return</span><span class="ct-6b7995"> </span><span class="ct-cbb79b">this</span><span class="ct-6b7995">.beanPositions; }
</span></span><span class="line" line="12"><span class="ct-6b7995">}</span></span></code></pre><!--]--><button class="copy-button" data-v-bfc7416e data-v-75636234><span class="sr-only" data-v-75636234>Copy to clipboard</span><span class="icon-wrapper" data-v-75636234><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-75636234 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-121c6e7d><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-63bfa697><!--[-->The corresponding json file might look something like this:<!--]--></p><div class="highlight-json prose-code" data-v-bfc7416e><!----><!--[--><pre><code><span class="line" line="1"><span class="ct-6b7995">{
</span></span><span class="line" line="2"><span class="ct-6b7995">  </span><span class="ct-59ef83">&quot;beans_amount&quot;</span><span class="ct-6b7995">: </span><span class="ct-cbb79b">5</span><span class="ct-6b7995">,
</span></span><span class="line" line="3"><span class="ct-6b7995">  </span><span class="ct-59ef83">&quot;bean_type&quot;</span><span class="ct-6b7995">: </span><span class="ct-773808">&quot;beanmod:mythical_beans&quot;</span><span class="ct-6b7995">,
</span></span><span class="line" line="4"><span class="ct-6b7995">  </span><span class="ct-59ef83">&quot;bean_positions&quot;</span><span class="ct-6b7995">: [
</span></span><span class="line" line="5"><span class="ct-6b7995">    [</span><span class="ct-cbb79b">1</span><span class="ct-6b7995">, </span><span class="ct-cbb79b">2</span><span class="ct-6b7995">, </span><span class="ct-cbb79b">3</span><span class="ct-6b7995">],
</span></span><span class="line" line="6"><span class="ct-6b7995">    [</span><span class="ct-cbb79b">4</span><span class="ct-6b7995">, </span><span class="ct-cbb79b">5</span><span class="ct-6b7995">, </span><span class="ct-cbb79b">6</span><span class="ct-6b7995">]
</span></span><span class="line" line="7"><span class="ct-6b7995">  ]
</span></span><span class="line" line="8"><span class="ct-6b7995">}</span></span></code></pre><!--]--><button class="copy-button" data-v-bfc7416e data-v-75636234><span class="sr-only" data-v-75636234>Copy to clipboard</span><span class="icon-wrapper" data-v-75636234><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-75636234 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-121c6e7d><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-63bfa697><!--[-->We can make a codec for this class by putting together multiple smaller codecs into a larger one. In this case, we&#39;ll
need one for each field:<!--]--></p><ul data-v-5feda7b5><!--[--><li data-v-996e086c><!--[-->a <code data-v-c81ed8f1><!--[-->Codec&lt;Integer&gt;<!--]--></code><!--]--></li><li data-v-996e086c><!--[-->a <code data-v-c81ed8f1><!--[-->Codec&lt;Item&gt;<!--]--></code><!--]--></li><li data-v-996e086c><!--[-->a <code data-v-c81ed8f1><!--[-->Codec&lt;List&lt;BlockPos&gt;&gt;<!--]--></code><!--]--></li><!--]--></ul><p data-v-63bfa697><!--[-->We can get the first one from the aforementioned primitive codecs in the <code data-v-c81ed8f1><!--[-->Codec<!--]--></code> class, specifically <code data-v-c81ed8f1><!--[-->Codec.INT<!--]--></code>. While
the second one can be obtained from the <code data-v-c81ed8f1><!--[-->Registries.ITEM<!--]--></code> registry, which has a <code data-v-c81ed8f1><!--[-->getCodec()<!--]--></code> method that returns a
<code data-v-c81ed8f1><!--[-->Codec&lt;Item&gt;<!--]--></code>. We don&#39;t have a default codec for <code data-v-c81ed8f1><!--[-->List&lt;BlockPos&gt;<!--]--></code>, but we can make one from <code data-v-c81ed8f1><!--[-->BlockPos.CODEC<!--]--></code>.<!--]--></p><h3 id="lists" data-v-4ddca5e2><a aria-current="page" href="/misc/codecs#lists" class="router-link-active router-link-exact-active" data-v-4ddca5e2><!--[-->Lists<!--]--><!----></a></h3><p data-v-63bfa697><!--[--><code data-v-c81ed8f1><!--[-->Codec#listOf<!--]--></code> can be used to create a list version of any codec:<!--]--></p><div class="highlight-java prose-code" data-v-bfc7416e><!----><!--[--><pre><code><span class="line" line="1"><span class="ct-6b7995">Codec</span><span class="ct-6a99cf">&lt;</span><span class="ct-6b7995">List</span><span class="ct-6a99cf">&lt;</span><span class="ct-c7e4a7">BlockPos</span><span class="ct-6a99cf">&gt;&gt; </span><span class="ct-6b7995">listCodec</span><span class="ct-6a99cf"> </span><span class="ct-c7e4a7">=</span><span class="ct-6b7995"> BlockPos.CODEC.</span><span class="ct-7bd8d7">listOf</span><span class="ct-6b7995">();</span></span></code></pre><!--]--><button class="copy-button" data-v-bfc7416e data-v-75636234><span class="sr-only" data-v-75636234>Copy to clipboard</span><span class="icon-wrapper" data-v-75636234><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-75636234 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-121c6e7d><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-63bfa697><!--[-->It should be noted that codecs created in this way will always deserialize to an <code data-v-c81ed8f1><!--[-->ImmutableList<!--]--></code>. If you need a mutable
list instead, you can make use of <a aria-current="page" href="/misc/codecs#mutually-convertible-types-and-you" class="router-link-active router-link-exact-active" data-v-af1c0c3b><!--[-->xmap<!--]--></a> to convert to one during
deserialization.<!--]--></p><h3 id="merging-codecs-for-record-like-classes" data-v-4ddca5e2><a aria-current="page" href="/misc/codecs#merging-codecs-for-record-like-classes" class="router-link-active router-link-exact-active" data-v-4ddca5e2><!--[-->Merging Codecs for Record-like Classes<!--]--><!----></a></h3><p data-v-63bfa697><!--[-->Now that we have separate codecs for each field, we can combine them into one codec for our class using
a <code data-v-c81ed8f1><!--[-->RecordCodecBuilder<!--]--></code>. This assumes that our class has a constructor containing every field we want to serialize, and
that every field has a corresponding getter method. This makes it perfect to use in conjunction with records, but it can
also be used with regular classes.<!--]--></p><p data-v-63bfa697><!--[-->Let&#39;s take a look at how to create a codec for our <code data-v-c81ed8f1><!--[-->CoolBeansClass<!--]--></code>:<!--]--></p><div class="highlight-java prose-code" data-v-bfc7416e><!----><!--[--><pre><code><span class="line" line="1"><span class="ct-c7e4a7">public</span><span class="ct-6b7995"> </span><span class="ct-c7e4a7">static</span><span class="ct-6b7995"> </span><span class="ct-c7e4a7">final</span><span class="ct-6b7995"> Codec</span><span class="ct-6a99cf">&lt;</span><span class="ct-c7e4a7">CoolBeansClass</span><span class="ct-6a99cf">&gt; </span><span class="ct-6b7995">CODEC</span><span class="ct-6a99cf"> </span><span class="ct-c7e4a7">=</span><span class="ct-6b7995"> RecordCodecBuilder.</span><span class="ct-7bd8d7">create</span><span class="ct-6b7995">(instance </span><span class="ct-c7e4a7">-&gt;</span><span class="ct-6b7995"> instance.</span><span class="ct-7bd8d7">group</span><span class="ct-6b7995">(
</span></span><span class="line" line="2"><span class="ct-6b7995">    Codec.INT.</span><span class="ct-7bd8d7">fieldOf</span><span class="ct-6b7995">(</span><span class="ct-773808">&quot;beans_amount&quot;</span><span class="ct-6b7995">).</span><span class="ct-7bd8d7">forGetter</span><span class="ct-6b7995">(CoolBeansClass</span><span class="ct-c7e4a7">::</span><span class="ct-6b7995">getBeansAmount),
</span></span><span class="line" line="3"><span class="ct-6b7995">    Registries.ITEM.</span><span class="ct-7bd8d7">getCodec</span><span class="ct-6b7995">().</span><span class="ct-7bd8d7">fieldOf</span><span class="ct-6b7995">(</span><span class="ct-773808">&quot;bean_type&quot;</span><span class="ct-6b7995">).</span><span class="ct-7bd8d7">forGetter</span><span class="ct-6b7995">(CoolBeansClass</span><span class="ct-c7e4a7">::</span><span class="ct-6b7995">getBeanType),
</span></span><span class="line" line="4"><span class="ct-6b7995">    BlockPos.CODEC.</span><span class="ct-7bd8d7">listOf</span><span class="ct-6b7995">().</span><span class="ct-7bd8d7">fieldOf</span><span class="ct-6b7995">(</span><span class="ct-773808">&quot;bean_positions&quot;</span><span class="ct-6b7995">).</span><span class="ct-7bd8d7">forGetter</span><span class="ct-6b7995">(CoolBeansClass</span><span class="ct-c7e4a7">::</span><span class="ct-6b7995">getBeanPositions)
</span></span><span class="line" line="5"><span class="ct-6b7995">    </span><span class="ct-ea7a7d">// Up to 16 fields can be declared here
</span></span><span class="line" line="6"><span class="ct-6b7995">).</span><span class="ct-7bd8d7">apply</span><span class="ct-6b7995">(instance, CoolBeansClass</span><span class="ct-c7e4a7">::new</span><span class="ct-6b7995">));</span></span></code></pre><!--]--><button class="copy-button" data-v-bfc7416e data-v-75636234><span class="sr-only" data-v-75636234>Copy to clipboard</span><span class="icon-wrapper" data-v-75636234><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-75636234 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-121c6e7d><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-63bfa697><!--[-->Each line in the group specifies a codec, a field name, and a getter method. The <code data-v-c81ed8f1><!--[-->Codec#fieldOf<!--]--></code> call is used to convert
the codec into a <a aria-current="page" href="/misc/codecs#mapcodec-not-to-be-confused-with-codecltmapgt" class="router-link-active router-link-exact-active" data-v-af1c0c3b><!--[-->map codec<!--]--></a>, and the <code data-v-c81ed8f1><!--[-->forGetter<!--]--></code> call specifies the getter
method used to retrieve the value of the field from an instance of the class. Meanwhile, the <code data-v-c81ed8f1><!--[-->apply<!--]--></code> call specifies the
constructor used to create new instances. Note that the order of the fields in the group should be the same as the order
of the arguments in the constructor.<!--]--></p><p data-v-63bfa697><!--[-->You can also use <code data-v-c81ed8f1><!--[-->Codec#optionalFieldOf<!--]--></code> in this context to make a field optional, as explained in
the <a aria-current="page" href="/misc/codecs#optional-fields" class="router-link-active router-link-exact-active" data-v-af1c0c3b><!--[-->Optional Fields<!--]--></a> section.<!--]--></p><h3 id="mapcodec-not-to-be-confused-with-codecmap" data-v-4ddca5e2><a aria-current="page" href="/misc/codecs#mapcodec-not-to-be-confused-with-codecmap" class="router-link-active router-link-exact-active" data-v-4ddca5e2><!--[-->MapCodec, not to be confused with Codec&lt;Map&gt;<!--]--><!----></a></h3><p data-v-63bfa697><!--[-->Calling <code data-v-c81ed8f1><!--[-->Codec#fieldOf<!--]--></code> will convert a <code data-v-c81ed8f1><!--[-->Codec&lt;T&gt;<!--]--></code> into a <code data-v-c81ed8f1><!--[-->MapCodec&lt;T&gt;<!--]--></code>, which is a variant, but not direct
implementation of <code data-v-c81ed8f1><!--[-->Codec&lt;T&gt;<!--]--></code>. It essentially boxes the value of the source codec inside a map, with the given field name
as the key. For example, a <code data-v-c81ed8f1><!--[-->Codec&lt;BlockPos&gt;<!--]--></code> when serialized into json would look like this:<!--]--></p><div class="highlight-json prose-code" data-v-bfc7416e><!----><!--[--><pre><code><span class="line" line="1"><span class="ct-6b7995">[</span><span class="ct-cbb79b">1</span><span class="ct-6b7995">, </span><span class="ct-cbb79b">2</span><span class="ct-6b7995">, </span><span class="ct-cbb79b">3</span><span class="ct-6b7995">]</span></span></code></pre><!--]--><button class="copy-button" data-v-bfc7416e data-v-75636234><span class="sr-only" data-v-75636234>Copy to clipboard</span><span class="icon-wrapper" data-v-75636234><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-75636234 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-121c6e7d><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-63bfa697><!--[-->But when converted into a <code data-v-c81ed8f1><!--[-->MapCodec&lt;BlockPos&gt;<!--]--></code> using <code data-v-c81ed8f1><!--[-->BlockPos.CODEC.fieldOf(&quot;pos&quot;)<!--]--></code>, it would look like this:<!--]--></p><div class="highlight-json prose-code" data-v-bfc7416e><!----><!--[--><pre><code><span class="line" line="1"><span class="ct-6b7995">{
</span></span><span class="line" line="2"><span class="ct-6b7995">  </span><span class="ct-59ef83">&quot;pos&quot;</span><span class="ct-6b7995">: [</span><span class="ct-cbb79b">1</span><span class="ct-6b7995">, </span><span class="ct-cbb79b">2</span><span class="ct-6b7995">, </span><span class="ct-cbb79b">3</span><span class="ct-6b7995">]
</span></span><span class="line" line="3"><span class="ct-6b7995">}</span></span></code></pre><!--]--><button class="copy-button" data-v-bfc7416e data-v-75636234><span class="sr-only" data-v-75636234>Copy to clipboard</span><span class="icon-wrapper" data-v-75636234><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-75636234 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-121c6e7d><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-63bfa697><!--[-->While the main use for map codecs is to be merged with other map codecs to construct a codec for a full class worth of
fields, as explained in the <a aria-current="page" href="/misc/codecs#merging-codecs-for-record-like-classes" class="router-link-active router-link-exact-active" data-v-af1c0c3b><!--[-->Merging Codecs for Record-like Classes<!--]--></a> section
above, they can also be turned back into regular codecs using <code data-v-c81ed8f1><!--[-->MapCodec#codec<!--]--></code>, which will retain the same behavior of
boxing their input value.<!--]--></p><h4 id="optional-fields" data-v-f6ab8c5b><a aria-current="page" href="/misc/codecs#optional-fields" class="router-link-active router-link-exact-active" data-v-f6ab8c5b><!--[-->Optional Fields<!--]--><!----></a></h4><p data-v-63bfa697><!--[--><code data-v-c81ed8f1><!--[-->Codec#optionalFieldOf<!--]--></code> can be used to create an optional map codec. This will, when the specified field is not present
in the container during deserialization, either be deserialized as an empty <code data-v-c81ed8f1><!--[-->Optional<!--]--></code> or a specified default value.<!--]--></p><div class="highlight-java prose-code" data-v-bfc7416e><!----><!--[--><pre><code><span class="line" line="1"><span class="ct-ea7a7d">// Without a default value
</span></span><span class="line" line="2"><span class="ct-6b7995">MapCodec</span><span class="ct-6a99cf">&lt;</span><span class="ct-6b7995">Optional</span><span class="ct-6a99cf">&lt;</span><span class="ct-c7e4a7">BlockPos</span><span class="ct-6a99cf">&gt;&gt; </span><span class="ct-6b7995">optionalCodec</span><span class="ct-6a99cf"> </span><span class="ct-c7e4a7">=</span><span class="ct-6b7995"> BlockPos.CODEC.</span><span class="ct-7bd8d7">optionalFieldOf</span><span class="ct-6b7995">(</span><span class="ct-773808">&quot;pos&quot;</span><span class="ct-6b7995">);
</span></span><span class="line" line="3"><span>
</span></span><span class="line" line="4"><span class="ct-ea7a7d">// With a default value
</span></span><span class="line" line="5"><span class="ct-6b7995">MapCodec</span><span class="ct-6a99cf">&lt;</span><span class="ct-c7e4a7">BlockPos</span><span class="ct-6a99cf">&gt; </span><span class="ct-6b7995">optionalCodec</span><span class="ct-6a99cf"> </span><span class="ct-c7e4a7">=</span><span class="ct-6b7995"> BlockPos.CODEC.</span><span class="ct-7bd8d7">optionalFieldOf</span><span class="ct-6b7995">(</span><span class="ct-773808">&quot;pos&quot;</span><span class="ct-6b7995">, BlockPos.ORIGIN);</span></span></code></pre><!--]--><button class="copy-button" data-v-bfc7416e data-v-75636234><span class="sr-only" data-v-75636234>Copy to clipboard</span><span class="icon-wrapper" data-v-75636234><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-75636234 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-121c6e7d><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-63bfa697><!--[-->Do note that optional fields will silently ignore any errors that may occur during deserialization. This means that if
the field is present, but the value is invalid, the field will always be deserialized as the default value.<!--]--></p><h3 id="constants-constraints-and-composition" data-v-4ddca5e2><a aria-current="page" href="/misc/codecs#constants-constraints-and-composition" class="router-link-active router-link-exact-active" data-v-4ddca5e2><!--[-->Constants, Constraints, and Composition<!--]--><!----></a></h3><h4 id="unit" data-v-f6ab8c5b><a aria-current="page" href="/misc/codecs#unit" class="router-link-active router-link-exact-active" data-v-f6ab8c5b><!--[-->Unit<!--]--><!----></a></h4><p data-v-63bfa697><!--[--><code data-v-c81ed8f1><!--[-->Codec.unit<!--]--></code> can be used to create a codec that always deserializes to a constant value, regardless of the input. When
serializing, it will do nothing.<!--]--></p><div class="highlight-java prose-code" data-v-bfc7416e><!----><!--[--><pre><code><span class="line" line="1"><span class="ct-6b7995">Codec</span><span class="ct-6a99cf">&lt;</span><span class="ct-c7e4a7">Integer</span><span class="ct-6a99cf">&gt; </span><span class="ct-6b7995">theMeaningOfCodec</span><span class="ct-6a99cf"> </span><span class="ct-c7e4a7">=</span><span class="ct-6b7995"> Codec.</span><span class="ct-7bd8d7">unit</span><span class="ct-6b7995">(</span><span class="ct-cbb79b">42</span><span class="ct-6b7995">);</span></span></code></pre><!--]--><button class="copy-button" data-v-bfc7416e data-v-75636234><span class="sr-only" data-v-75636234>Copy to clipboard</span><span class="icon-wrapper" data-v-75636234><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-75636234 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-121c6e7d><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h4 id="numeric-ranges" data-v-f6ab8c5b><a aria-current="page" href="/misc/codecs#numeric-ranges" class="router-link-active router-link-exact-active" data-v-f6ab8c5b><!--[-->Numeric Ranges<!--]--><!----></a></h4><p data-v-63bfa697><!--[--><code data-v-c81ed8f1><!--[-->Codec.intRange<!--]--></code> and its pals, <code data-v-c81ed8f1><!--[-->Codec.floatRange<!--]--></code> and <code data-v-c81ed8f1><!--[-->Codec.doubleRange<!--]--></code> can be used to create a codec that only
accepts number values within a specified <strong data-v-9d7bd52e><!--[-->inclusive<!--]--></strong> range. This applies to both serialization and deserialization.<!--]--></p><div class="highlight-java prose-code" data-v-bfc7416e><!----><!--[--><pre><code><span class="line" line="1"><span class="ct-ea7a7d">// Can&#39;t be more than 2
</span></span><span class="line" line="2"><span class="ct-6b7995">Codec</span><span class="ct-6a99cf">&lt;</span><span class="ct-c7e4a7">Integer</span><span class="ct-6a99cf">&gt; </span><span class="ct-6b7995">amountOfFriendsYouHave</span><span class="ct-6a99cf"> </span><span class="ct-c7e4a7">=</span><span class="ct-6b7995"> Codec.</span><span class="ct-7bd8d7">intRange</span><span class="ct-6b7995">(</span><span class="ct-cbb79b">0</span><span class="ct-6b7995">, </span><span class="ct-cbb79b">2</span><span class="ct-6b7995">);</span></span></code></pre><!--]--><button class="copy-button" data-v-bfc7416e data-v-75636234><span class="sr-only" data-v-75636234>Copy to clipboard</span><span class="icon-wrapper" data-v-75636234><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-75636234 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-121c6e7d><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h4 id="pair" data-v-f6ab8c5b><a aria-current="page" href="/misc/codecs#pair" class="router-link-active router-link-exact-active" data-v-f6ab8c5b><!--[-->Pair<!--]--><!----></a></h4><p data-v-63bfa697><!--[--><code data-v-c81ed8f1><!--[-->Codec.pair<!--]--></code> merges two codecs, <code data-v-c81ed8f1><!--[-->Codec&lt;A&gt;<!--]--></code> and <code data-v-c81ed8f1><!--[-->Codec&lt;B&gt;<!--]--></code>, into a <code data-v-c81ed8f1><!--[-->Codec&lt;Pair&lt;A, B&gt;&gt;<!--]--></code>. Keep in mind it only works
properly with codecs that serialize to a specific field, such as
<a aria-current="page" href="/misc/codecs#mapcodec-not-to-be-confused-with-codecltmapgt" class="router-link-active router-link-exact-active" data-v-af1c0c3b><!--[-->converted <code data-v-c81ed8f1><!--[-->MapCodec<!--]--></code>s<!--]--></a> or
<a aria-current="page" href="/misc/codecs#merging-codecs-for-record-like-classes" class="router-link-active router-link-exact-active" data-v-af1c0c3b><!--[-->record codecs<!--]--></a>.
The resulting codec will serialize to a map combining the fields of both codecs used.<!--]--></p><p data-v-63bfa697><!--[-->For example, running this code:<!--]--></p><div class="highlight-java prose-code" data-v-bfc7416e><!----><!--[--><pre><code><span class="line" line="1"><span class="ct-ea7a7d">// Create two seperate boxed codecs
</span></span><span class="line" line="2"><span class="ct-6b7995">MapCodec</span><span class="ct-6a99cf">&lt;</span><span class="ct-c7e4a7">Integer</span><span class="ct-6a99cf">&gt; </span><span class="ct-6b7995">firstCodec</span><span class="ct-6a99cf"> </span><span class="ct-c7e4a7">=</span><span class="ct-6b7995"> Codec.INT.</span><span class="ct-7bd8d7">fieldOf</span><span class="ct-6b7995">(</span><span class="ct-773808">&quot;i_am_number&quot;</span><span class="ct-6b7995">).</span><span class="ct-7bd8d7">codec</span><span class="ct-6b7995">();
</span></span><span class="line" line="3"><span class="ct-6b7995">MapCodec</span><span class="ct-6a99cf">&lt;</span><span class="ct-c7e4a7">Boolean</span><span class="ct-6a99cf">&gt; </span><span class="ct-6b7995">secondCodec</span><span class="ct-6a99cf"> </span><span class="ct-c7e4a7">=</span><span class="ct-6b7995"> Codec.BOOL.</span><span class="ct-7bd8d7">fieldOf</span><span class="ct-6b7995">(</span><span class="ct-773808">&quot;this_statement_is_false&quot;</span><span class="ct-6b7995">).</span><span class="ct-7bd8d7">codec</span><span class="ct-6b7995">();
</span></span><span class="line" line="4"><span>
</span></span><span class="line" line="5"><span class="ct-ea7a7d">// Merge them into a pair codec
</span></span><span class="line" line="6"><span class="ct-6b7995">Codec</span><span class="ct-6a99cf">&lt;</span><span class="ct-6b7995">Pair</span><span class="ct-6a99cf">&lt;</span><span class="ct-c7e4a7">Integer</span><span class="ct-6a99cf">, </span><span class="ct-c7e4a7">Boolean</span><span class="ct-6a99cf">&gt;&gt; </span><span class="ct-6b7995">pairCodec</span><span class="ct-6a99cf"> </span><span class="ct-c7e4a7">=</span><span class="ct-6b7995"> Codec.</span><span class="ct-7bd8d7">pair</span><span class="ct-6b7995">(firstCodec, secondCodec);
</span></span><span class="line" line="7"><span>
</span></span><span class="line" line="8"><span class="ct-ea7a7d">// Use it to serialize data
</span></span><span class="line" line="9"><span class="ct-6b7995">DataResult</span><span class="ct-6a99cf">&lt;</span><span class="ct-c7e4a7">JsonElement</span><span class="ct-6a99cf">&gt; </span><span class="ct-6b7995">result</span><span class="ct-6a99cf"> </span><span class="ct-c7e4a7">=</span><span class="ct-6b7995"> pairCodec.</span><span class="ct-7bd8d7">encodeStart</span><span class="ct-6b7995">(JsonOps.INSTANCE, Pair.</span><span class="ct-7bd8d7">of</span><span class="ct-6b7995">(</span><span class="ct-cbb79b">23</span><span class="ct-6b7995">, </span><span class="ct-cbb79b">true</span><span class="ct-6b7995">)).</span></span></code></pre><!--]--><button class="copy-button" data-v-bfc7416e data-v-75636234><span class="sr-only" data-v-75636234>Copy to clipboard</span><span class="icon-wrapper" data-v-75636234><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-75636234 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-121c6e7d><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-63bfa697><!--[-->Will output this json:<!--]--></p><div class="highlight-json prose-code" data-v-bfc7416e><!----><!--[--><pre><code><span class="line" line="1"><span class="ct-6b7995">{
</span></span><span class="line" line="2"><span class="ct-6b7995">  </span><span class="ct-59ef83">&quot;i_am_number&quot;</span><span class="ct-6b7995">: </span><span class="ct-cbb79b">23</span><span class="ct-6b7995">,
</span></span><span class="line" line="3"><span class="ct-6b7995">  </span><span class="ct-59ef83">&quot;this_statement_is_false&quot;</span><span class="ct-6b7995">: </span><span class="ct-cbb79b">true
</span></span><span class="line" line="4"><span class="ct-6b7995">}</span></span></code></pre><!--]--><button class="copy-button" data-v-bfc7416e data-v-75636234><span class="sr-only" data-v-75636234>Copy to clipboard</span><span class="icon-wrapper" data-v-75636234><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-75636234 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-121c6e7d><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h4 id="either" data-v-f6ab8c5b><a aria-current="page" href="/misc/codecs#either" class="router-link-active router-link-exact-active" data-v-f6ab8c5b><!--[-->Either<!--]--><!----></a></h4><p data-v-63bfa697><!--[--><code data-v-c81ed8f1><!--[-->Codec.either<!--]--></code> combines two codecs, <code data-v-c81ed8f1><!--[-->Codec&lt;A&gt;<!--]--></code> and <code data-v-c81ed8f1><!--[-->Codec&lt;B&gt;<!--]--></code>, into a <code data-v-c81ed8f1><!--[-->Codec&lt;Either&lt;A, B&gt;&gt;<!--]--></code>. The resulting codec will,
during both <em data-v-177b5f01><!--[-->serialization and deserialization<!--]--></em>, attempt to use the first codec, and <em data-v-177b5f01><!--[-->only if that fails<!--]--></em>,
attempt to use the second one. If the second one also fails, the error of the <em data-v-177b5f01><!--[-->second<!--]--></em> codec will be returned.<!--]--></p><h4 id="maps" data-v-f6ab8c5b><a aria-current="page" href="/misc/codecs#maps" class="router-link-active router-link-exact-active" data-v-f6ab8c5b><!--[-->Maps<!--]--><!----></a></h4><p data-v-63bfa697><!--[-->For processing maps with arbitrary keys, such as <code data-v-c81ed8f1><!--[-->HashMap<!--]--></code>s, <code data-v-c81ed8f1><!--[-->Codec.unboundedMap<!--]--></code> can be used. This returns a
<code data-v-c81ed8f1><!--[-->Codec&lt;Map&lt;K, V&gt;&gt;<!--]--></code> for a given <code data-v-c81ed8f1><!--[-->Codec&lt;K&gt;<!--]--></code> and <code data-v-c81ed8f1><!--[-->Codec&lt;V&gt;<!--]--></code>. The resulting codec will serialize to a json object or
whatever equivalent is available for the current dynamic ops.<!--]--></p><p data-v-63bfa697><!--[-->Due to limitations of json and nbt, the key codec used must serialize to a string. This includes codecs for types that
aren&#39;t strings themselves, but do serialize to them, such as <code data-v-c81ed8f1><!--[-->Identifier.CODEC<!--]--></code>. See the example below:<!--]--></p><div class="highlight-java prose-code" data-v-bfc7416e><!----><!--[--><pre><code><span class="line" line="1"><span class="ct-ea7a7d">// Create a codec for a map of identifiers to integers
</span></span><span class="line" line="2"><span class="ct-6b7995">Codec</span><span class="ct-6a99cf">&lt;</span><span class="ct-6b7995">Map</span><span class="ct-6a99cf">&lt;</span><span class="ct-c7e4a7">Identifier</span><span class="ct-6a99cf">, </span><span class="ct-c7e4a7">Integer</span><span class="ct-6a99cf">&gt;&gt; </span><span class="ct-6b7995">mapCodec</span><span class="ct-6a99cf"> </span><span class="ct-c7e4a7">=</span><span class="ct-6b7995"> Codec.</span><span class="ct-7bd8d7">unboundedMap</span><span class="ct-6b7995">(Identifier.CODEC, Codec.INT);
</span></span><span class="line" line="3"><span>
</span></span><span class="line" line="4"><span class="ct-ea7a7d">// Use it to serialize data
</span></span><span class="line" line="5"><span class="ct-6b7995">DataResult</span><span class="ct-6a99cf">&lt;</span><span class="ct-c7e4a7">JsonElement</span><span class="ct-6a99cf">&gt; </span><span class="ct-6b7995">result</span><span class="ct-6a99cf"> </span><span class="ct-c7e4a7">=</span><span class="ct-6b7995"> mapCodec.</span><span class="ct-7bd8d7">encodeStart</span><span class="ct-6b7995">(JsonOps.INSTANCE, Map.</span><span class="ct-7bd8d7">of</span><span class="ct-6b7995">(
</span></span><span class="line" line="6"><span class="ct-6b7995">    </span><span class="ct-c7e4a7">new</span><span class="ct-6b7995"> </span><span class="ct-7bd8d7">Identifier</span><span class="ct-6b7995">(</span><span class="ct-773808">&quot;example&quot;</span><span class="ct-6b7995">, </span><span class="ct-773808">&quot;number&quot;</span><span class="ct-6b7995">), </span><span class="ct-cbb79b">23</span><span class="ct-6b7995">,
</span></span><span class="line" line="7"><span class="ct-6b7995">    </span><span class="ct-c7e4a7">new</span><span class="ct-6b7995"> </span><span class="ct-7bd8d7">Identifier</span><span class="ct-6b7995">(</span><span class="ct-773808">&quot;example&quot;</span><span class="ct-6b7995">, </span><span class="ct-773808">&quot;the_cooler_number&quot;</span><span class="ct-6b7995">), </span><span class="ct-cbb79b">42
</span></span><span class="line" line="8"><span class="ct-6b7995">));</span></span></code></pre><!--]--><button class="copy-button" data-v-bfc7416e data-v-75636234><span class="sr-only" data-v-75636234>Copy to clipboard</span><span class="icon-wrapper" data-v-75636234><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-75636234 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-121c6e7d><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-63bfa697><!--[-->This will output this json:<!--]--></p><div class="highlight-json prose-code" data-v-bfc7416e><!----><!--[--><pre><code><span class="line" line="1"><span class="ct-6b7995">{
</span></span><span class="line" line="2"><span class="ct-6b7995">  </span><span class="ct-59ef83">&quot;example:number&quot;</span><span class="ct-6b7995">: </span><span class="ct-cbb79b">23</span><span class="ct-6b7995">,
</span></span><span class="line" line="3"><span class="ct-6b7995">  </span><span class="ct-59ef83">&quot;example:the_cooler_number&quot;</span><span class="ct-6b7995">: </span><span class="ct-cbb79b">42
</span></span><span class="line" line="4"><span class="ct-6b7995">}</span></span></code></pre><!--]--><button class="copy-button" data-v-bfc7416e data-v-75636234><span class="sr-only" data-v-75636234>Copy to clipboard</span><span class="icon-wrapper" data-v-75636234><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-75636234 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-121c6e7d><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-63bfa697><!--[-->As you can see, this works because <code data-v-c81ed8f1><!--[-->Identifier.CODEC<!--]--></code> serializes directly to a string value. A similar effect can be
achieved for simple objects that don&#39;t serialize to strings by using <a aria-current="page" href="/misc/codecs#mutually-convertible-types-and-you" class="router-link-active router-link-exact-active" data-v-af1c0c3b><!--[-->xmap &amp; friends<!--]--></a> to
convert them.<!--]--></p><h3 id="mutually-convertible-types-and-you" data-v-4ddca5e2><a aria-current="page" href="/misc/codecs#mutually-convertible-types-and-you" class="router-link-active router-link-exact-active" data-v-4ddca5e2><!--[-->Mutually Convertible Types and You<!--]--><!----></a></h3><h4 id="xmap" data-v-f6ab8c5b><a aria-current="page" href="/misc/codecs#xmap" class="router-link-active router-link-exact-active" data-v-f6ab8c5b><!--[-->xmap<!--]--><!----></a></h4><p data-v-63bfa697><!--[-->Say we have two classes that can be converted to each other, but don&#39;t have a parent-child relationship. For example,
a vanilla <code data-v-c81ed8f1><!--[-->BlockPos<!--]--></code> and <code data-v-c81ed8f1><!--[-->Vec3d<!--]--></code>. If we have a codec for one, we can use <code data-v-c81ed8f1><!--[-->Codec#xmap<!--]--></code> to create a codec for the other by
specifying a conversion function for each direction.<!--]--></p><p data-v-63bfa697><!--[--><code data-v-c81ed8f1><!--[-->BlockPos<!--]--></code> already has a codec, but let&#39;s pretend it doesn&#39;t. We can create one for it by basing it on the
codec for <code data-v-c81ed8f1><!--[-->Vec3d<!--]--></code> like this:<!--]--></p><div class="highlight-java prose-code" data-v-bfc7416e><!----><!--[--><pre><code><span class="line" line="1"><span class="ct-6b7995">Codec</span><span class="ct-6a99cf">&lt;</span><span class="ct-c7e4a7">BlockPos</span><span class="ct-6a99cf">&gt; </span><span class="ct-6b7995">blockPosCodec</span><span class="ct-6a99cf"> </span><span class="ct-c7e4a7">=</span><span class="ct-6b7995"> Vec3d.CODEC.</span><span class="ct-7bd8d7">xmap</span><span class="ct-6b7995">(
</span></span><span class="line" line="2"><span class="ct-6b7995">    </span><span class="ct-ea7a7d">// Convert Vec3d to BlockPos
</span></span><span class="line" line="3"><span class="ct-6b7995">    vec </span><span class="ct-c7e4a7">-&gt;</span><span class="ct-6b7995"> </span><span class="ct-c7e4a7">new</span><span class="ct-6b7995"> </span><span class="ct-7bd8d7">BlockPos</span><span class="ct-6b7995">(vec.x, vec.y, vec.z),
</span></span><span class="line" line="4"><span class="ct-6b7995">    </span><span class="ct-ea7a7d">// Convert BlockPos to Vec3d
</span></span><span class="line" line="5"><span class="ct-6b7995">    pos </span><span class="ct-c7e4a7">-&gt;</span><span class="ct-6b7995"> </span><span class="ct-c7e4a7">new</span><span class="ct-6b7995"> </span><span class="ct-7bd8d7">Vec3d</span><span class="ct-6b7995">(pos.</span><span class="ct-7bd8d7">getX</span><span class="ct-6b7995">(), pos.</span><span class="ct-7bd8d7">getY</span><span class="ct-6b7995">(), pos.</span><span class="ct-7bd8d7">getZ</span><span class="ct-6b7995">())
</span></span><span class="line" line="6"><span class="ct-6b7995">);
</span></span><span class="line" line="7"><span>
</span></span><span class="line" line="8"><span class="ct-ea7a7d">// It&#39;d be cleaner to use method references to helper functions to transform 
</span></span><span class="line" line="9"><span class="ct-ea7a7d">// between the two, but this is just an example</span></span></code></pre><!--]--><button class="copy-button" data-v-bfc7416e data-v-75636234><span class="sr-only" data-v-75636234>Copy to clipboard</span><span class="icon-wrapper" data-v-75636234><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-75636234 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-121c6e7d><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h4 id="flatcomapmap-comapflatmap-and-flatxmap" data-v-f6ab8c5b><a aria-current="page" href="/misc/codecs#flatcomapmap-comapflatmap-and-flatxmap" class="router-link-active router-link-exact-active" data-v-f6ab8c5b><!--[-->flatComapMap, comapFlatMap, and flatXMap<!--]--><!----></a></h4><p data-v-63bfa697><!--[--><code data-v-c81ed8f1><!--[-->Codec#flatComapMap<!--]--></code>, <code data-v-c81ed8f1><!--[-->Codec#comapFlatMap<!--]--></code> and <code data-v-c81ed8f1><!--[-->flatXMap<!--]--></code> are similar to xmap, but they allow one or both of the
conversion functions to return a DataResult. This is useful in practice because a specific object instance may not
always be valid for conversion.<!--]--></p><p data-v-63bfa697><!--[-->Take for example vanilla <code data-v-c81ed8f1><!--[-->Identifier<!--]--></code>s. Not all strings are valid identifiers, so using xmap would mean throwing ugly
exceptions when the conversion fails. However, its codec is actually a <code data-v-c81ed8f1><!--[-->comapFlatMap<!--]--></code> on <code data-v-c81ed8f1><!--[-->Codec.STRING<!--]--></code>, nicely
illustrating how to use it:<!--]--></p><div class="highlight-java prose-code" data-v-bfc7416e><!----><!--[--><pre><code><span class="line" line="1"><span class="ct-c7e4a7">public</span><span class="ct-6b7995"> </span><span class="ct-c7e4a7">class</span><span class="ct-6b7995"> </span><span class="ct-6a99cf">Identifier</span><span class="ct-6b7995"> {
</span></span><span class="line" line="2"><span class="ct-6b7995">    </span><span class="ct-c7e4a7">public</span><span class="ct-6b7995"> </span><span class="ct-c7e4a7">static</span><span class="ct-6b7995"> </span><span class="ct-c7e4a7">final</span><span class="ct-6b7995"> Codec</span><span class="ct-6a99cf">&lt;</span><span class="ct-c7e4a7">Identifier</span><span class="ct-6a99cf">&gt; </span><span class="ct-6b7995">CODEC</span><span class="ct-6a99cf"> </span><span class="ct-c7e4a7">=</span><span class="ct-6b7995"> Codec.STRING.</span><span class="ct-7bd8d7">comapFlatMap</span><span class="ct-6b7995">(
</span></span><span class="line" line="3"><span class="ct-6b7995">        Identifier</span><span class="ct-c7e4a7">::</span><span class="ct-6b7995">validate, Identifier</span><span class="ct-c7e4a7">::</span><span class="ct-6b7995">toString
</span></span><span class="line" line="4"><span class="ct-6b7995">    );
</span></span><span class="line" line="5"><span>
</span></span><span class="line" line="6"><span class="ct-6b7995">    </span><span class="ct-ea7a7d">// ...
</span></span><span class="line" line="7"><span>
</span></span><span class="line" line="8"><span class="ct-6b7995">    </span><span class="ct-c7e4a7">public</span><span class="ct-6b7995"> </span><span class="ct-c7e4a7">static</span><span class="ct-6b7995"> DataResult&lt;</span><span class="ct-c7e4a7">Identifier</span><span class="ct-6b7995">&gt; </span><span class="ct-7bd8d7">validate</span><span class="ct-6b7995">(String </span><span class="ct-6a99cf">id</span><span class="ct-6b7995">) {
</span></span><span class="line" line="9"><span class="ct-6b7995">        </span><span class="ct-c7e4a7">try</span><span class="ct-6b7995"> {
</span></span><span class="line" line="10"><span class="ct-6b7995">            </span><span class="ct-c7e4a7">return</span><span class="ct-6b7995"> DataResult.</span><span class="ct-7bd8d7">success</span><span class="ct-6b7995">(</span><span class="ct-c7e4a7">new</span><span class="ct-6b7995"> </span><span class="ct-7bd8d7">Identifier</span><span class="ct-6b7995">(id));
</span></span><span class="line" line="11"><span class="ct-6b7995">        } </span><span class="ct-c7e4a7">catch</span><span class="ct-6b7995"> (InvalidIdentifierException </span><span class="ct-6a99cf">e</span><span class="ct-6b7995">) {
</span></span><span class="line" line="12"><span class="ct-6b7995">            </span><span class="ct-c7e4a7">return</span><span class="ct-6b7995"> DataResult.</span><span class="ct-7bd8d7">error</span><span class="ct-6b7995">(</span><span class="ct-773808">&quot;Not a valid resource location: &quot;</span><span class="ct-6b7995"> </span><span class="ct-c7e4a7">+</span><span class="ct-6b7995"> id </span><span class="ct-c7e4a7">+</span><span class="ct-6b7995"> </span><span class="ct-773808">&quot; &quot;</span><span class="ct-6b7995"> </span><span class="ct-c7e4a7">+</span><span class="ct-6b7995"> e.</span><span class="ct-7bd8d7">getMessage</span><span class="ct-6b7995">());
</span></span><span class="line" line="13"><span class="ct-6b7995">        }
</span></span><span class="line" line="14"><span class="ct-6b7995">    }
</span></span><span class="line" line="15"><span class="ct-6b7995">    
</span></span><span class="line" line="16"><span class="ct-6b7995">    </span><span class="ct-ea7a7d">// ...
</span></span><span class="line" line="17"><span class="ct-6b7995">}</span></span></code></pre><!--]--><button class="copy-button" data-v-bfc7416e data-v-75636234><span class="sr-only" data-v-75636234>Copy to clipboard</span><span class="icon-wrapper" data-v-75636234><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-75636234 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-121c6e7d><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-63bfa697><!--[-->While these methods are really helpful, their names are a bit confusing, so here&#39;s a table to help you remember which
one to use:<!--]--></p><div class="table-wrapper" data-v-6b1afcb9><table data-v-6b1afcb9><!--[--><thead data-v-513aac1f><!--[--><tr data-v-a0e7c17a><!--[--><th data-v-eebbe65a><!--[-->Method<!--]--></th><th data-v-eebbe65a><!--[-->A -&gt; B always valid?<!--]--></th><th data-v-eebbe65a><!--[-->B -&gt; A always valid?<!--]--></th><!--]--></tr><!--]--></thead><tbody><!--[--><tr data-v-a0e7c17a><!--[--><td data-v-cfe1bbd3><!--[--><code data-v-c81ed8f1><!--[-->Codec&lt;A&gt;#xmap<!--]--></code><!--]--></td><td data-v-cfe1bbd3><!--[-->Yes<!--]--></td><td data-v-cfe1bbd3><!--[-->Yes<!--]--></td><!--]--></tr><tr data-v-a0e7c17a><!--[--><td data-v-cfe1bbd3><!--[--><code data-v-c81ed8f1><!--[-->Codec&lt;A&gt;#comapFlatMap<!--]--></code><!--]--></td><td data-v-cfe1bbd3><!--[-->No<!--]--></td><td data-v-cfe1bbd3><!--[-->Yes<!--]--></td><!--]--></tr><tr data-v-a0e7c17a><!--[--><td data-v-cfe1bbd3><!--[--><code data-v-c81ed8f1><!--[-->Codec&lt;A&gt;#flatComapMap<!--]--></code><!--]--></td><td data-v-cfe1bbd3><!--[-->Yes<!--]--></td><td data-v-cfe1bbd3><!--[-->No<!--]--></td><!--]--></tr><tr data-v-a0e7c17a><!--[--><td data-v-cfe1bbd3><!--[--><code data-v-c81ed8f1><!--[-->Codec&lt;A&gt;#flatXMap<!--]--></code><!--]--></td><td data-v-cfe1bbd3><!--[-->No<!--]--></td><td data-v-cfe1bbd3><!--[-->No<!--]--></td><!--]--></tr><!--]--></tbody><!--]--></table></div><h3 id="registry-dispatch" data-v-4ddca5e2><a aria-current="page" href="/misc/codecs#registry-dispatch" class="router-link-active router-link-exact-active" data-v-4ddca5e2><!--[-->Registry Dispatch<!--]--><!----></a></h3><p data-v-63bfa697><!--[--><code data-v-c81ed8f1><!--[-->Codec#dispatch<!--]--></code> let us define a registry of codecs and dispatch to a specific one based on the value of a
field in the serialized data. This is very useful when deserializing objects that have different fields depending on
their type, but still represent the same thing.<!--]--></p><p data-v-63bfa697><!--[-->For example, say we have an abstract <code data-v-c81ed8f1><!--[-->Bean<!--]--></code> class with two subclasses: <code data-v-c81ed8f1><!--[-->StringyBean<!--]--></code> and <code data-v-c81ed8f1><!--[-->CountingBean<!--]--></code>. To serialize
these with a registry dispatch, we&#39;ll need a few things:<!--]--></p><ul data-v-5feda7b5><!--[--><li data-v-996e086c><!--[-->Separate codecs for every type of bean.<!--]--></li><li data-v-996e086c><!--[-->A <code data-v-c81ed8f1><!--[-->BeanType<!--]--></code> interface or class that represents the type of bean, and can return the codec for it.<!--]--></li><li data-v-996e086c><!--[-->A function on <code data-v-c81ed8f1><!--[-->Bean<!--]--></code> to retrieve its <code data-v-c81ed8f1><!--[-->BeanType<!--]--></code>.<!--]--></li><li data-v-996e086c><!--[-->A map or registry to map <code data-v-c81ed8f1><!--[-->Identifier<!--]--></code>s to <code data-v-c81ed8f1><!--[-->BeanType<!--]--></code>s.<!--]--></li><li data-v-996e086c><!--[-->A <code data-v-c81ed8f1><!--[-->Codec&lt;BeanType&gt;<!--]--></code> based on this registry. If you used a <code data-v-c81ed8f1><!--[-->net.minecraft.registry.Registry<!--]--></code>, one can be easily made
using <code data-v-c81ed8f1><!--[-->Registry#getCodec<!--]--></code>.<!--]--></li><!--]--></ul><p data-v-63bfa697><!--[-->With all of this, we can create a registry dispatch codec for beans:<!--]--></p><div class="highlight-java prose-code" data-v-bfc7416e><!----><!--[--><pre><code><span class="line" line="1"><span class="ct-c7e4a7">class</span><span class="ct-6b7995"> </span><span class="ct-6a99cf">Bean</span><span class="ct-6b7995"> {
</span></span><span class="line" line="2"><span class="ct-6b7995">    </span><span class="ct-ea7a7d">// ...
</span></span><span class="line" line="3"><span class="ct-6b7995">    </span><span class="ct-c7e4a7">public</span><span class="ct-6b7995"> BeanType </span><span class="ct-7bd8d7">getType</span><span class="ct-6b7995">() {
</span></span><span class="line" line="4"><span class="ct-6b7995">        </span><span class="ct-ea7a7d">// ...
</span></span><span class="line" line="5"><span class="ct-6b7995">    }
</span></span><span class="line" line="6"><span class="ct-6b7995">}
</span></span><span class="line" line="7"><span>
</span></span><span class="line" line="8"><span class="ct-c7e4a7">class</span><span class="ct-6b7995"> </span><span class="ct-6a99cf">BeanType</span><span class="ct-6b7995"> {
</span></span><span class="line" line="9"><span class="ct-6b7995">    </span><span class="ct-ea7a7d">// ...
</span></span><span class="line" line="10"><span class="ct-6b7995">    
</span></span><span class="line" line="11"><span class="ct-6b7995">    </span><span class="ct-c7e4a7">public</span><span class="ct-6b7995"> Codec&lt;</span><span class="ct-c7e4a7">?</span><span class="ct-6b7995"> </span><span class="ct-c7e4a7">extends</span><span class="ct-6b7995"> </span><span class="ct-c7e4a7">Bean</span><span class="ct-6b7995">&gt; </span><span class="ct-7bd8d7">getCodec</span><span class="ct-6b7995">();
</span></span><span class="line" line="12"><span class="ct-6b7995">}
</span></span><span class="line" line="13"><span>
</span></span><span class="line" line="14"><span class="ct-c7e4a7">class</span><span class="ct-6b7995"> </span><span class="ct-6a99cf">StringyBean</span><span class="ct-6b7995"> </span><span class="ct-c7e4a7">extends</span><span class="ct-6b7995"> </span><span class="ct-cbb79b">Bean</span><span class="ct-6b7995"> {
</span></span><span class="line" line="15"><span class="ct-6b7995">    </span><span class="ct-c7e4a7">public</span><span class="ct-6b7995"> </span><span class="ct-c7e4a7">static</span><span class="ct-6b7995"> </span><span class="ct-c7e4a7">final</span><span class="ct-6b7995"> Codec</span><span class="ct-6a99cf">&lt;</span><span class="ct-c7e4a7">StringyBean</span><span class="ct-6a99cf">&gt; </span><span class="ct-6b7995">CODEC</span><span class="ct-6a99cf"> </span><span class="ct-c7e4a7">=</span><span class="ct-6b7995"> RecordCodecBuilder.</span><span class="ct-7bd8d7">create</span><span class="ct-6b7995">(instance </span><span class="ct-c7e4a7">-&gt;</span><span class="ct-6b7995"> instance.</span><span class="ct-7bd8d7">group</span><span class="ct-6b7995">(
</span></span><span class="line" line="16"><span class="ct-6b7995">        Codec.STRING.</span><span class="ct-7bd8d7">fieldOf</span><span class="ct-6b7995">(</span><span class="ct-773808">&quot;stringy_string&quot;</span><span class="ct-6b7995">).</span><span class="ct-7bd8d7">forGetter</span><span class="ct-6b7995">(StringyBean</span><span class="ct-c7e4a7">::</span><span class="ct-6b7995">getStringyString)
</span></span><span class="line" line="17"><span class="ct-6b7995">    ).</span><span class="ct-7bd8d7">apply</span><span class="ct-6b7995">(instance, StringyBean</span><span class="ct-c7e4a7">::new</span><span class="ct-6b7995">));
</span></span><span class="line" line="18"><span>
</span></span><span class="line" line="19"><span class="ct-6b7995">    </span><span class="ct-c7e4a7">public</span><span class="ct-6b7995"> </span><span class="ct-c7e4a7">final</span><span class="ct-6b7995"> String</span><span class="ct-6a99cf"> </span><span class="ct-6b7995">stringyString;
</span></span><span class="line" line="20"><span>
</span></span><span class="line" line="21"><span class="ct-6b7995">    </span><span class="ct-ea7a7d">// ...
</span></span><span class="line" line="22"><span class="ct-6b7995">}
</span></span><span class="line" line="23"><span>
</span></span><span class="line" line="24"><span class="ct-c7e4a7">class</span><span class="ct-6b7995"> </span><span class="ct-6a99cf">CountingBean</span><span class="ct-6b7995"> </span><span class="ct-c7e4a7">extends</span><span class="ct-6b7995"> </span><span class="ct-cbb79b">Bean</span><span class="ct-6b7995"> {
</span></span><span class="line" line="25"><span class="ct-6b7995">    </span><span class="ct-c7e4a7">public</span><span class="ct-6b7995"> </span><span class="ct-c7e4a7">static</span><span class="ct-6b7995"> </span><span class="ct-c7e4a7">final</span><span class="ct-6b7995"> Codec</span><span class="ct-6a99cf">&lt;</span><span class="ct-c7e4a7">CountingBean</span><span class="ct-6a99cf">&gt; </span><span class="ct-6b7995">CODEC</span><span class="ct-6a99cf"> </span><span class="ct-c7e4a7">=</span><span class="ct-6b7995"> RecordCodecBuilder.</span><span class="ct-7bd8d7">create</span><span class="ct-6b7995">(instance </span><span class="ct-c7e4a7">-&gt;</span><span class="ct-6b7995"> instance.</span><span class="ct-7bd8d7">group</span><span class="ct-6b7995">(
</span></span><span class="line" line="26"><span class="ct-6b7995">        Codec.INT.</span><span class="ct-7bd8d7">fieldOf</span><span class="ct-6b7995">(</span><span class="ct-773808">&quot;counting_number&quot;</span><span class="ct-6b7995">).</span><span class="ct-7bd8d7">forGetter</span><span class="ct-6b7995">(CountingBean</span><span class="ct-c7e4a7">::</span><span class="ct-6b7995">getCountingNumber)
</span></span><span class="line" line="27"><span class="ct-6b7995">    ).</span><span class="ct-7bd8d7">apply</span><span class="ct-6b7995">(instance, CountingBean</span><span class="ct-c7e4a7">::new</span><span class="ct-6b7995">));
</span></span><span class="line" line="28"><span>
</span></span><span class="line" line="29"><span class="ct-6b7995">    </span><span class="ct-c7e4a7">public</span><span class="ct-6b7995"> </span><span class="ct-c7e4a7">final</span><span class="ct-6b7995"> </span><span class="ct-c7e4a7">int</span><span class="ct-6a99cf"> </span><span class="ct-6b7995">countingNumber;
</span></span><span class="line" line="30"><span>
</span></span><span class="line" line="31"><span class="ct-6b7995">    </span><span class="ct-ea7a7d">// ...
</span></span><span class="line" line="32"><span class="ct-6b7995">}
</span></span><span class="line" line="33"><span>
</span></span><span class="line" line="34"><span class="ct-ea7a7d">// Create a registry to map identifiers to bean types
</span></span><span class="line" line="35"><span class="ct-6b7995">Registry</span><span class="ct-6a99cf">&lt;</span><span class="ct-c7e4a7">BeanType</span><span class="ct-6a99cf">&gt; </span><span class="ct-6b7995">beanTypeRegistry</span><span class="ct-6a99cf"> </span><span class="ct-c7e4a7">=</span><span class="ct-6b7995"> </span><span class="ct-c7e4a7">new</span><span class="ct-6b7995"> SimpleRegistry&lt;&gt;(</span><span class="ct-c7e4a7">new</span><span class="ct-6b7995"> </span><span class="ct-7bd8d7">Identifier</span><span class="ct-6b7995">(</span><span class="ct-773808">&quot;example&quot;</span><span class="ct-6b7995">, </span><span class="ct-773808">&quot;bean_types&quot;</span><span class="ct-6b7995">), Lifecycle.</span><span class="ct-7bd8d7">stable</span><span class="ct-6b7995">());
</span></span><span class="line" line="36"><span>
</span></span><span class="line" line="37"><span class="ct-ea7a7d">// Register the bean types
</span></span><span class="line" line="38"><span class="ct-6b7995">beanTypeRegistry.</span><span class="ct-7bd8d7">register</span><span class="ct-6b7995">(</span><span class="ct-c7e4a7">new</span><span class="ct-6b7995"> </span><span class="ct-7bd8d7">Identifier</span><span class="ct-6b7995">(</span><span class="ct-773808">&quot;example&quot;</span><span class="ct-6b7995">, </span><span class="ct-773808">&quot;stringy_bean&quot;</span><span class="ct-6b7995">), </span><span class="ct-c7e4a7">new</span><span class="ct-6b7995"> </span><span class="ct-7bd8d7">BeanType</span><span class="ct-6b7995">(StringyBean.CODEC));
</span></span><span class="line" line="39"><span class="ct-6b7995">beanTypeRegistry.</span><span class="ct-7bd8d7">register</span><span class="ct-6b7995">(</span><span class="ct-c7e4a7">new</span><span class="ct-6b7995"> </span><span class="ct-7bd8d7">Identifier</span><span class="ct-6b7995">(</span><span class="ct-773808">&quot;example&quot;</span><span class="ct-6b7995">, </span><span class="ct-773808">&quot;counting_bean&quot;</span><span class="ct-6b7995">), </span><span class="ct-c7e4a7">new</span><span class="ct-6b7995"> </span><span class="ct-7bd8d7">BeanType</span><span class="ct-6b7995">(CountingBean.CODEC));
</span></span><span class="line" line="40"><span>
</span></span><span class="line" line="41"><span class="ct-ea7a7d">// Create a codec for bean types
</span></span><span class="line" line="42"><span class="ct-6b7995">Codec</span><span class="ct-6a99cf">&lt;</span><span class="ct-c7e4a7">BeanType</span><span class="ct-6a99cf">&gt; </span><span class="ct-6b7995">beanTypeCodec</span><span class="ct-6a99cf"> </span><span class="ct-c7e4a7">=</span><span class="ct-6b7995"> beanTypeRegistry.</span><span class="ct-7bd8d7">getCodec</span><span class="ct-6b7995">();
</span></span><span class="line" line="43"><span>
</span></span><span class="line" line="44"><span class="ct-ea7a7d">// And here&#39;s our registry dispatch codec for beans! 
</span></span><span class="line" line="45"><span class="ct-ea7a7d">// The first argument is the field name for the bean type
</span></span><span class="line" line="46"><span class="ct-6b7995">Codec</span><span class="ct-6a99cf">&lt;</span><span class="ct-c7e4a7">Bean</span><span class="ct-6a99cf">&gt; </span><span class="ct-6b7995">beanCodec</span><span class="ct-6a99cf"> </span><span class="ct-c7e4a7">=</span><span class="ct-6b7995"> beanTypeCodec.</span><span class="ct-7bd8d7">dispatch</span><span class="ct-6b7995">(</span><span class="ct-773808">&quot;type&quot;</span><span class="ct-6b7995">, Bean</span><span class="ct-c7e4a7">::</span><span class="ct-6b7995">getType, BeanType</span><span class="ct-c7e4a7">::</span><span class="ct-6b7995">getCodec);</span></span></code></pre><!--]--><button class="copy-button" data-v-bfc7416e data-v-75636234><span class="sr-only" data-v-75636234>Copy to clipboard</span><span class="icon-wrapper" data-v-75636234><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-75636234 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-121c6e7d><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><p data-v-63bfa697><!--[-->This will serialize beans to json like this, grabbing only fields that are relevant to its type:<!--]--></p><div class="highlight-json prose-code" data-v-bfc7416e><!----><!--[--><pre><code><span class="line" line="1"><span class="ct-6b7995">{
</span></span><span class="line" line="2"><span class="ct-6b7995">  </span><span class="ct-59ef83">&quot;type&quot;</span><span class="ct-6b7995">: </span><span class="ct-773808">&quot;example:stringy_bean&quot;</span><span class="ct-6b7995">,
</span></span><span class="line" line="3"><span class="ct-6b7995">  </span><span class="ct-59ef83">&quot;stringy_string&quot;</span><span class="ct-6b7995">: </span><span class="ct-773808">&quot;This bean is stringy!&quot;
</span></span><span class="line" line="4"><span class="ct-6b7995">}</span></span></code></pre><!--]--><button class="copy-button" data-v-bfc7416e data-v-75636234><span class="sr-only" data-v-75636234>Copy to clipboard</span><span class="icon-wrapper" data-v-75636234><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-75636234 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-121c6e7d><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><div class="highlight-json prose-code" data-v-bfc7416e><!----><!--[--><pre><code><span class="line" line="1"><span class="ct-6b7995">{
</span></span><span class="line" line="2"><span class="ct-6b7995">  </span><span class="ct-59ef83">&quot;type&quot;</span><span class="ct-6b7995">: </span><span class="ct-773808">&quot;example:counting_bean&quot;</span><span class="ct-6b7995">,
</span></span><span class="line" line="3"><span class="ct-6b7995">  </span><span class="ct-59ef83">&quot;counting_number&quot;</span><span class="ct-6b7995">: </span><span class="ct-cbb79b">42
</span></span><span class="line" line="4"><span class="ct-6b7995">}</span></span></code></pre><!--]--><button class="copy-button" data-v-bfc7416e data-v-75636234><span class="sr-only" data-v-75636234>Copy to clipboard</span><span class="icon-wrapper" data-v-75636234><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-75636234 style="" width="18px" height="18px" viewBox="0 0 256 256" data-v-121c6e7d><path fill="currentColor" d="M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z"/></svg></span></button></div><h2 id="references" data-v-1daf0210><a aria-current="page" href="/misc/codecs#references" class="router-link-active router-link-exact-active" data-v-1daf0210><!--[-->References<!--]--><!----></a></h2><ul data-v-5feda7b5><!--[--><li data-v-996e086c><!--[-->A much more comprehensive documentation of codecs and related APIs can be found at the
<a href="https://kvverti.github.io/Documented-DataFixerUpper/snapshot/com/mojang/serialization/Codec.html" rel="nofollow" data-v-af1c0c3b><!--[-->Unofficial DFU JavaDoc<!--]--></a>.<!--]--></li><li data-v-996e086c><!--[-->The general structure of this guide was heavily inspired by the
<a href="https://forge.gemwire.uk/wiki/Codecs" rel="nofollow" data-v-af1c0c3b><!--[-->Forge Community Wiki&#39;s page on codecs<!--]--></a>, a more Forge-specific take on the same
topic.<!--]--></li><!--]--></ul><style>.ct-59ef83{color:#116329}
.ct-773808{color:#0A3069}
.ct-ea7a7d{color:#6E7781}
.ct-cbb79b{color:#0550AE}
.ct-7bd8d7{color:#8250DF}
.ct-c7e4a7{color:#CF222E}
.ct-6a99cf{color:#953800}
.ct-6b7995{color:#24292F}
.dark .ct-6b7995{color:#C9D1D9}
.dark .ct-6a99cf{color:#FFA657}
.dark .ct-c7e4a7{color:#FF7B72}
.dark .ct-7bd8d7{color:#D2A8FF}
.dark .ct-cbb79b{color:#79C0FF}
.dark .ct-ea7a7d{color:#8B949E}
.dark .ct-773808{color:#A5D6FF}
.dark .ct-59ef83{color:#7EE787}</style></div><!--]--><!--]--><!--[--><div class="docs-prev-next" data-v-36be3338 data-v-e8d0289b><a href="/misc/basic-problem-solving" class="prev" data-v-e8d0289b><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-e8d0289b style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-121c6e7d><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m11 17l-5-5m0 0l5-5m-5 5h12"/></svg><div class="wrapper" data-v-e8d0289b><span class="directory" data-v-e8d0289b>Misc</span><span class="title" data-v-e8d0289b>Basic Problem Solving</span></div></a><a href="/misc/creating-events" class="next" data-v-e8d0289b><div class="wrapper" data-v-e8d0289b><span class="directory" data-v-e8d0289b>Misc</span><span class="title" data-v-e8d0289b>Creating Fabric API Events</span></div><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-e8d0289b style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-121c6e7d><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m13 7l5 5m0 0l-5 5m5-5H6"/></svg></a></div><!--[--><div class="docs-page-bottom" data-v-79daddb6><div class="edit-link" data-v-79daddb6><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-79daddb6 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-121c6e7d><path fill="currentColor" d="M21 12a1 1 0 0 0-1 1v6a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h6a1 1 0 0 0 0-2H5a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-6a1 1 0 0 0-1-1Zm-15 .76V17a1 1 0 0 0 1 1h4.24a1 1 0 0 0 .71-.29l6.92-6.93L21.71 8a1 1 0 0 0 0-1.42l-4.24-4.29a1 1 0 0 0-1.42 0l-2.82 2.83l-6.94 6.93a1 1 0 0 0-.29.71Zm10.76-8.35l2.83 2.83l-1.42 1.42l-2.83-2.83ZM8 13.17l5.93-5.93l2.83 2.83L10.83 16H8Z"/></svg><!--[--><a href="https://github.com/mineblock11/fabric-community-wiki/edit/docus/content/9.misc/codecs.md" rel="noopener noreferrer" data-v-79daddb6 data-v-af1c0c3b><!--[--><span data-v-79daddb6> Edit this page on GitHub </span><!--]--></a><!--]--></div><!----></div><!----><!--]--><!--]--></article><div class="toc" data-v-36be3338><div class="toc-wrapper" data-v-36be3338><button data-v-36be3338><span class="title" data-v-36be3338>Table of Contents</span><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-36be3338 style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-121c6e7d><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 5l7 7l-7 7"/></svg></button><div class="docs-toc-wrapper" data-v-36be3338><div class="docs-toc" data-v-36be3338 data-v-b73c7193><!--[--><div class="docs-toc-title" data-v-b73c7193><span data-v-b73c7193>Table of Contents</span></div><ul class="docs-toc-links" data-v-b73c7193 data-v-b11e6bdb><!--[--><li class="depth-2" data-v-b11e6bdb><a href="#using-codecs" class="" data-v-b11e6bdb>Using Codecs</a><ul class="docs-toc-links" data-v-b11e6bdb data-v-b11e6bdb><!--[--><li class="depth-3" data-v-b11e6bdb><a href="#serializing-and-deserializing" class="" data-v-b11e6bdb>Serializing and Deserializing</a><!----></li><li class="depth-3" data-v-b11e6bdb><a href="#built-in-codecs" class="" data-v-b11e6bdb>Built-in Codecs</a><!----></li><!--]--></ul></li><li class="depth-2" data-v-b11e6bdb><a href="#building-codecs" class="" data-v-b11e6bdb>Building Codecs</a><ul class="docs-toc-links" data-v-b11e6bdb data-v-b11e6bdb><!--[--><li class="depth-3" data-v-b11e6bdb><a href="#lists" class="" data-v-b11e6bdb>Lists</a><!----></li><li class="depth-3" data-v-b11e6bdb><a href="#merging-codecs-for-record-like-classes" class="" data-v-b11e6bdb>Merging Codecs for Record-like Classes</a><!----></li><li class="depth-3" data-v-b11e6bdb><a href="#mapcodec-not-to-be-confused-with-codecmap" class="" data-v-b11e6bdb>MapCodec, not to be confused with Codec&lt;Map&gt;</a><!----></li><li class="depth-3" data-v-b11e6bdb><a href="#constants-constraints-and-composition" class="" data-v-b11e6bdb>Constants, Constraints, and Composition</a><!----></li><li class="depth-3" data-v-b11e6bdb><a href="#mutually-convertible-types-and-you" class="" data-v-b11e6bdb>Mutually Convertible Types and You</a><!----></li><li class="depth-3" data-v-b11e6bdb><a href="#registry-dispatch" class="" data-v-b11e6bdb>Registry Dispatch</a><!----></li><!--]--></ul></li><li class="depth-2" data-v-b11e6bdb><a href="#references" class="" data-v-b11e6bdb>References</a><!----></li><!--]--></ul><!--]--></div></div></div></div><!--]--></div><!--]--></div><!--]--><!--]--></main><footer data-v-44d1340b data-v-01e0d55c><div class="container pv-GgVP8G pc-wP1elH footer-container" data-v-01e0d55c data-v-6d327d86><!--[--><div class="left" data-v-01e0d55c><!----></div><div class="center" data-v-01e0d55c><!--[--><!--]--></div><div class="right" data-v-01e0d55c><!--[--><a class="icon-link" href="https://nuxt.com" target="_blank" rel="noopener noreferrer" data-v-01e0d55c><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-01e0d55c style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-121c6e7d><path fill="currentColor" d="M13.464 19.83h8.922c.283 0 .562-.073.807-.21a1.59 1.59 0 0 0 .591-.574a1.53 1.53 0 0 0 .216-.783a1.529 1.529 0 0 0-.217-.782L17.792 7.414a1.59 1.59 0 0 0-.591-.573a1.652 1.652 0 0 0-.807-.21c-.283 0-.562.073-.807.21a1.59 1.59 0 0 0-.59.573L13.463 9.99L10.47 4.953a1.591 1.591 0 0 0-.591-.573a1.653 1.653 0 0 0-.807-.21c-.284 0-.562.073-.807.21a1.591 1.591 0 0 0-.591.573L.216 17.481a1.53 1.53 0 0 0-.217.782c0 .275.074.545.216.783a1.59 1.59 0 0 0 .59.574c.246.137.525.21.808.21h5.6c2.22 0 3.856-.946 4.982-2.79l2.733-4.593l1.464-2.457l4.395 7.382h-5.859Zm-6.341-2.46l-3.908-.002l5.858-9.842l2.923 4.921l-1.957 3.29c-.748 1.196-1.597 1.632-2.916 1.632z"/></svg></a><!--]--><!--[--><a href="https://discord.gg/UzHtJKqHny" rel="noopener noreferrer" target="_blank" title="Discord" aria-label="Discord" data-v-d86bb3fa><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-d86bb3fa style="" width="1em" height="1em" viewBox="0 0 24 24" data-v-121c6e7d><path fill="currentColor" d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418Z"/></svg></a><a href="https://github.com/mineblock11/fabric-community-wiki" rel="noopener noreferrer" target="_blank" title="mineblock11/fabric-community-wiki" aria-label="mineblock11/fabric-community-wiki" data-v-d86bb3fa><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="icon" data-v-d86bb3fa style="" width="1em" height="1em" viewBox="0 0 496 512" data-v-121c6e7d><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6c-3.3.3-5.6-1.3-5.6-3.6c0-2 2.3-3.6 5.2-3.6c3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9c2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9c.3 2 2.9 3.3 5.9 2.6c2.9-.7 4.9-2.6 4.6-4.6c-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2c12.8 2.3 17.3-5.6 17.3-12.1c0-6.2-.3-40.4-.3-61.4c0 0-70 15-84.7-29.8c0 0-11.4-29.1-27.8-36.6c0 0-22.9-15.7 1.6-15.4c0 0 24.9 2 38.6 25.8c21.9 38.6 58.6 27.5 72.9 20.9c2.3-16 8.8-27.1 16-33.7c-55.9-6.2-112.3-14.3-112.3-110.5c0-27.5 7.6-41.3 23.6-58.9c-2.6-6.5-11.1-33.3 2.6-67.9c20.9-6.5 69 27 69 27c20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27c13.7 34.7 5.2 61.4 2.6 67.9c16 17.7 25.8 31.5 25.8 58.9c0 96.5-58.9 104.2-114.8 110.5c9.2 7.9 17 22.9 17 46.4c0 33.7-.3 75.4-.3 83.6c0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252C496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2c1.6 1.6 3.9 2.3 5.2 1c1.3-1 1-3.3-.7-5.2c-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9c1.6 1 3.6.7 4.3-.7c.7-1.3-.3-2.9-2.3-3.9c-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2c2.3 2.3 5.2 2.6 6.5 1c1.3-1.3.7-4.3-1.3-6.2c-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9c1.6 2.3 4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2c-1.4-2.3-4-3.3-5.6-2z"/></svg></a><!--]--></div><!--]--></div></footer></div></div><script type="module">import p from "/misc/codecs/_payload.js";window.__NUXT__={...p,...((function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,do0,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH){return {state:{"$sdd-pages":{"/misc/codecs":{_path:bD,_dir:aW,_draft:l,_partial:l,_locale:r,_empty:l,title:aB,description:"An advanced guide to using Mojang's Codec system for serializing and deserializing java objects.",body:{type:"root",children:[{type:a,tag:"h1",props:{id:"codecs"},children:[{type:b,value:aB}]},{type:a,tag:m,props:{},children:[{type:b,value:"Codec is a system for easily and functionally serializing java objects, and is included in Mojang's DataFixerUpper (DFU)\nlibrary. In a modding context they are usually used as an alternative to GSON and Jankson when reading and writing\ncustom json files, but they tend to be useful in many other situations as well."}]},{type:a,tag:m,props:{},children:[{type:b,value:"They are used in conjunction with another API from DFU, "},{type:a,tag:g,props:{},children:[{type:b,value:"DynamicOps"}]},{type:b,value:". A codec defines the structure of an object, while\ndynamic ops are used to define a format to be serialized to and from, such as json or NBT. This means any codec can be\nused with any dynamic ops, and vice versa, allowing for great flexibility."}]},{type:a,tag:aX,props:{id:bE},children:[{type:b,value:bF}]},{type:a,tag:Y,props:{id:bG},children:[{type:b,value:bH}]},{type:a,tag:m,props:{},children:[{type:b,value:"The basic usage of a codec is to serialize and deserialize objects to and from a specific format."}]},{type:a,tag:m,props:{},children:[{type:b,value:"Since a few vanilla classes already have codecs defined, we can use those as an example. Mojang has also provided us\nwith two dynamic ops classes by default, "},{type:a,tag:g,props:{},children:[{type:b,value:"JsonOps"}]},{type:b,value:P},{type:a,tag:g,props:{},children:[{type:b,value:"NbtOps"}]},{type:b,value:", which tend to cover most use cases."}]},{type:a,tag:m,props:{},children:[{type:b,value:"Now, let's say we want to serialize a "},{type:a,tag:g,props:{},children:[{type:b,value:F}]},{type:b,value:" to json and back. We can do this using the codec statically stored\nat "},{type:a,tag:g,props:{},children:[{type:b,value:bI}]},{type:b,value:" with the "},{type:a,tag:g,props:{},children:[{type:b,value:"Codec#encodeStart"}]},{type:b,value:P},{type:a,tag:g,props:{},children:[{type:b,value:"Codec#parse"}]},{type:b,value:" methods, respectively."}]},{type:a,tag:n,props:{code:"BlockPos pos = new BlockPos(1, 2, 3);\n\n\u002F\u002F Serialize the BlockPos to a JsonElement\nDataResult\u003CJsonElement\u003E result = BlockPos.CODEC.encodeStart(JsonOps.INSTANCE, pos);\n",language:I,meta:o},children:[{type:a,tag:E,props:{},children:[{type:a,tag:n,props:{__ignoreMap:r},children:[{type:a,tag:c,props:{class:e,line:D},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:F}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bJ}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:K}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:F}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:aC}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:ap}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:aD}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aY}]}]},{type:a,tag:c,props:{class:e,line:B},children:[{type:a,tag:c,props:{},children:[{type:b,value:x}]}]},{type:a,tag:c,props:{class:e,line:A},children:[{type:a,tag:c,props:{class:q},children:[{type:b,value:"\u002F\u002F Serialize the BlockPos to a JsonElement\n"}]}]},{type:a,tag:c,props:{class:e,line:G},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:aq}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:v}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:aE}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:C}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aF}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ar}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aZ}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"(JsonOps.INSTANCE, pos);"}]}]}]}]}]},{type:a,tag:m,props:{},children:[{type:b,value:"When using a codec, values are returned in the form of a "},{type:a,tag:g,props:{},children:[{type:b,value:aq}]},{type:b,value:". This is a wrapper that can represent either a\nsuccess or a failure. We can use this in several ways: If we just want our serialized value, "},{type:a,tag:g,props:{},children:[{type:b,value:"DataResult#result"}]},{type:b,value:" will\nsimply return an "},{type:a,tag:g,props:{},children:[{type:b,value:a_}]},{type:b,value:" containing our value, while "},{type:a,tag:g,props:{},children:[{type:b,value:"DataResult#resultOrPartial"}]},{type:b,value:" also lets us supply a function to\nhandle any errors that may have occurred. The latter is particularly useful for custom datapack resources, where we'd\nwant to log errors without causing issues elsewhere."}]},{type:a,tag:m,props:{},children:[{type:b,value:"So let's grab our serialized value and turn it back into a "},{type:a,tag:g,props:{},children:[{type:b,value:F}]},{type:b,value:bK}]},{type:a,tag:n,props:{code:"\u002F\u002F When actually writing a mod, you'll want to properly handle empty Optionals of course\nJsonElement json = result.resultOrPartial(LOGGER::error).orElseThrow();\n\n\u002F\u002F Here we have our json value, which should correspond to `[1, 2, 3]`, \n\u002F\u002F as that's the format used by the BlockPos codec.\nLOGGER.info(\"Serialized BlockPos: {}\", json);\n\n\u002F\u002F Now we'll deserialize the JsonElement back into a BlockPos\nDataResult\u003CBlockPos\u003E result = BlockPos.CODEC.parse(JsonOps.INSTANCE, json);\n\n\u002F\u002F Again, we'll just grab our value from the result\nBlockPos pos = result.resultOrPartial(LOGGER::error).orElseThrow();\n\n\u002F\u002F And we can see that we've successfully serialized and deserialized our BlockPos!\nLOGGER.info(\"Deserialized BlockPos: {}\", pos);\n",language:I,meta:o},children:[{type:a,tag:E,props:{},children:[{type:a,tag:n,props:{__ignoreMap:r},children:[{type:a,tag:c,props:{class:e,line:D},children:[{type:a,tag:c,props:{class:q},children:[{type:b,value:"\u002F\u002F When actually writing a mod, you'll want to properly handle empty Optionals of course\n"}]}]},{type:a,tag:c,props:{class:e,line:B},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:aE}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:Q}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bL}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:bM}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bN}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:O}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bO}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:bP}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aj}]}]},{type:a,tag:c,props:{class:e,line:A},children:[{type:a,tag:c,props:{},children:[{type:b,value:x}]}]},{type:a,tag:c,props:{class:e,line:G},children:[{type:a,tag:c,props:{class:q},children:[{type:b,value:"\u002F\u002F Here we have our json value, which should correspond to `[1, 2, 3]`, \n"}]}]},{type:a,tag:c,props:{class:e,line:R},children:[{type:a,tag:c,props:{class:q},children:[{type:b,value:"\u002F\u002F as that's the format used by the BlockPos codec.\n"}]}]},{type:a,tag:c,props:{class:e,line:V},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:bQ}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:bR}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:s},children:[{type:b,value:"\"Serialized BlockPos: {}\""}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:", json);\n"}]}]},{type:a,tag:c,props:{class:e,line:Z},children:[{type:a,tag:c,props:{},children:[{type:b,value:x}]}]},{type:a,tag:c,props:{class:e,line:_},children:[{type:a,tag:c,props:{class:q},children:[{type:b,value:"\u002F\u002F Now we'll deserialize the JsonElement back into a BlockPos\n"}]}]},{type:a,tag:c,props:{class:e,line:ak},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:aq}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:v}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:F}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:C}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aF}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ar}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"parse"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"(JsonOps.INSTANCE, json);\n"}]}]},{type:a,tag:c,props:{class:e,line:aG},children:[{type:a,tag:c,props:{},children:[{type:b,value:x}]}]},{type:a,tag:c,props:{class:e,line:aH},children:[{type:a,tag:c,props:{class:q},children:[{type:b,value:"\u002F\u002F Again, we'll just grab our value from the result\n"}]}]},{type:a,tag:c,props:{class:e,line:aI},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:F}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bJ}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bL}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:bM}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bN}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:O}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bO}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:bP}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aj}]}]},{type:a,tag:c,props:{class:e,line:a$},children:[{type:a,tag:c,props:{},children:[{type:b,value:x}]}]},{type:a,tag:c,props:{class:e,line:ba},children:[{type:a,tag:c,props:{class:q},children:[{type:b,value:"\u002F\u002F And we can see that we've successfully serialized and deserialized our BlockPos!\n"}]}]},{type:a,tag:c,props:{class:e,line:bb},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:bQ}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:bR}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:s},children:[{type:b,value:"\"Deserialized BlockPos: {}\""}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:", pos);"}]}]}]}]}]},{type:a,tag:Y,props:{id:bS},children:[{type:b,value:bT}]},{type:a,tag:m,props:{},children:[{type:b,value:"As mentioned earlier, Mojang has already defined codecs for several vanilla and standard Java classes, including but not\nlimited to "},{type:a,tag:g,props:{},children:[{type:b,value:F}]},{type:b,value:z},{type:a,tag:g,props:{},children:[{type:b,value:"BlockState"}]},{type:b,value:z},{type:a,tag:g,props:{},children:[{type:b,value:"ItemStack"}]},{type:b,value:z},{type:a,tag:g,props:{},children:[{type:b,value:J}]},{type:b,value:z},{type:a,tag:g,props:{},children:[{type:b,value:"Text"}]},{type:b,value:", and regex "},{type:a,tag:g,props:{},children:[{type:b,value:"Pattern"}]},{type:b,value:"s. Codecs for Mojang's own\nclasses are usually found as static fields named "},{type:a,tag:g,props:{},children:[{type:b,value:as}]},{type:b,value:" on the class itself, while most others are kept in the "},{type:a,tag:g,props:{},children:[{type:b,value:aB}]},{type:b,value:"\nclass. It should also be noted that all vanilla registries contain a "},{type:a,tag:g,props:{},children:[{type:b,value:bU}]},{type:b,value:" method, for example, you\ncan use "},{type:a,tag:g,props:{},children:[{type:b,value:"Registries.BLOCK.getCodec()"}]},{type:b,value:" to get a "},{type:a,tag:g,props:{},children:[{type:b,value:"Codec\u003CBlock\u003E"}]},{type:b,value:" which serializes to the block id and back."}]},{type:a,tag:m,props:{},children:[{type:b,value:"The codec api itself also contains some codecs for primitive types, such as "},{type:a,tag:g,props:{},children:[{type:b,value:bV}]},{type:b,value:P},{type:a,tag:g,props:{},children:[{type:b,value:bW}]},{type:b,value:". These are\navailable as statics on the "},{type:a,tag:g,props:{},children:[{type:b,value:S}]},{type:b,value:" class, and are usually used as the base for more complex codecs, as explained below."}]},{type:a,tag:aX,props:{id:bX},children:[{type:b,value:bY}]},{type:a,tag:m,props:{},children:[{type:b,value:"Now that we've seen how to use codecs, let's take a look at how we can build our own. Suppose we have the following\nclass, and we want to deserialize instances of it from json files:"}]},{type:a,tag:n,props:{code:"public class CoolBeansClass {\n    \n    private final int beansAmount;\n    private final Item beanType;\n    private final List\u003CBlockPos\u003E beanPositions;\n\n    public CoolBeansClass(int beansAmount, Item beanType, List\u003CBlockPos\u003E beanPositions) {...}\n\n    public int getBeansAmount() { return this.beansAmount; }\n    public Item getBeanType() { return this.beanType; }\n    public List\u003CBlockPos\u003E getBeanPositions() { return this.beanPositions; }\n}\n",language:I,meta:o},children:[{type:a,tag:E,props:{},children:[{type:a,tag:n,props:{__ignoreMap:r},children:[{type:a,tag:c,props:{class:e,line:D},children:[{type:a,tag:c,props:{class:f},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:al}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:aJ}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ad}]}]},{type:a,tag:c,props:{class:e,line:B},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:bc}]}]},{type:a,tag:c,props:{class:e,line:A},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:bd}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:W}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:aK}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"beansAmount;\n"}]}]},{type:a,tag:c,props:{class:e,line:G},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:bd}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:W}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" Item"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"beanType;\n"}]}]},{type:a,tag:c,props:{class:e,line:R},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:bd}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:W}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" List"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:v}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:F}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:C}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"beanPositions;\n"}]}]},{type:a,tag:c,props:{class:e,line:V},children:[{type:a,tag:c,props:{},children:[{type:b,value:x}]}]},{type:a,tag:c,props:{class:e,line:Z},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aJ}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:aK}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:"beansAmount"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:", Item "}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:"beanType"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:", List\u003C"}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:F}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:C}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:"beanPositions"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:") {...}\n"}]}]},{type:a,tag:c,props:{class:e,line:_},children:[{type:a,tag:c,props:{},children:[{type:b,value:x}]}]},{type:a,tag:c,props:{class:e,line:ak},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:aK}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"getBeansAmount"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:be}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:at}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:bf}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:".beansAmount; }\n"}]}]},{type:a,tag:c,props:{class:e,line:aG},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" Item "}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"getBeanType"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:be}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:at}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:bf}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:".beanType; }\n"}]}]},{type:a,tag:c,props:{class:e,line:aH},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" List\u003C"}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:F}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:C}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"getBeanPositions"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:be}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:at}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:bf}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:".beanPositions; }\n"}]}]},{type:a,tag:c,props:{class:e,line:aI},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:$}]}]}]}]}]},{type:a,tag:m,props:{},children:[{type:b,value:"The corresponding json file might look something like this:"}]},{type:a,tag:n,props:{code:"{\n  \"beans_amount\": 5,\n  \"bean_type\": \"beanmod:mythical_beans\",\n  \"bean_positions\": [\n    [1, 2, 3],\n    [4, 5, 6]\n  ]\n}\n",language:Q,meta:o},children:[{type:a,tag:E,props:{},children:[{type:a,tag:n,props:{__ignoreMap:r},children:[{type:a,tag:c,props:{class:e,line:D},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:am}]}]},{type:a,tag:c,props:{class:e,line:B},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:M},children:[{type:b,value:bZ}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:T}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:b_}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ae}]}]},{type:a,tag:c,props:{class:e,line:A},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:M},children:[{type:b,value:b$}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:T}]},{type:a,tag:c,props:{class:s},children:[{type:b,value:"\"beanmod:mythical_beans\""}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ae}]}]},{type:a,tag:c,props:{class:e,line:G},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:M},children:[{type:b,value:ca}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:": [\n"}]}]},{type:a,tag:c,props:{class:e,line:R},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:cb}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:aC}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:ap}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:aD}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"],\n"}]}]},{type:a,tag:c,props:{class:e,line:V},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:cb}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:"4"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:b_}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:"6"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:cc}]}]},{type:a,tag:c,props:{class:e,line:Z},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"  ]\n"}]}]},{type:a,tag:c,props:{class:e,line:_},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:$}]}]}]}]}]},{type:a,tag:m,props:{},children:[{type:b,value:"We can make a codec for this class by putting together multiple smaller codecs into a larger one. In this case, we'll\nneed one for each field:"}]},{type:a,tag:bg,props:{},children:[{type:a,tag:U,props:{},children:[{type:b,value:bh},{type:a,tag:g,props:{},children:[{type:b,value:"Codec\u003CInteger\u003E"}]}]},{type:a,tag:U,props:{},children:[{type:b,value:bh},{type:a,tag:g,props:{},children:[{type:b,value:cd}]}]},{type:a,tag:U,props:{},children:[{type:b,value:bh},{type:a,tag:g,props:{},children:[{type:b,value:"Codec\u003CList\u003CBlockPos\u003E\u003E"}]}]}]},{type:a,tag:m,props:{},children:[{type:b,value:"We can get the first one from the aforementioned primitive codecs in the "},{type:a,tag:g,props:{},children:[{type:b,value:S}]},{type:b,value:" class, specifically "},{type:a,tag:g,props:{},children:[{type:b,value:bV}]},{type:b,value:". While\nthe second one can be obtained from the "},{type:a,tag:g,props:{},children:[{type:b,value:"Registries.ITEM"}]},{type:b,value:" registry, which has a "},{type:a,tag:g,props:{},children:[{type:b,value:bU}]},{type:b,value:" method that returns a\n"},{type:a,tag:g,props:{},children:[{type:b,value:cd}]},{type:b,value:". We don't have a default codec for "},{type:a,tag:g,props:{},children:[{type:b,value:"List\u003CBlockPos\u003E"}]},{type:b,value:", but we can make one from "},{type:a,tag:g,props:{},children:[{type:b,value:bI}]},{type:b,value:aL}]},{type:a,tag:Y,props:{id:ce},children:[{type:b,value:cf}]},{type:a,tag:m,props:{},children:[{type:a,tag:g,props:{},children:[{type:b,value:"Codec#listOf"}]},{type:b,value:" can be used to create a list version of any codec:"}]},{type:a,tag:n,props:{code:"Codec\u003CList\u003CBlockPos\u003E\u003E listCodec = BlockPos.CODEC.listOf();\n",language:I,meta:o},children:[{type:a,tag:E,props:{},children:[{type:a,tag:n,props:{__ignoreMap:r},children:[{type:a,tag:c,props:{class:e,line:D},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:S}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:v}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"List"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:v}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:F}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:aM}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"listCodec"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ar}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cg}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"();"}]}]}]}]}]},{type:a,tag:m,props:{},children:[{type:b,value:"It should be noted that codecs created in this way will always deserialize to an "},{type:a,tag:g,props:{},children:[{type:b,value:"ImmutableList"}]},{type:b,value:". If you need a mutable\nlist instead, you can make use of "},{type:a,tag:X,props:{href:ch},children:[{type:b,value:aN}]},{type:b,value:" to convert to one during\ndeserialization."}]},{type:a,tag:Y,props:{id:ci},children:[{type:b,value:bi}]},{type:a,tag:m,props:{},children:[{type:b,value:"Now that we have separate codecs for each field, we can combine them into one codec for our class using\na "},{type:a,tag:g,props:{},children:[{type:b,value:"RecordCodecBuilder"}]},{type:b,value:". This assumes that our class has a constructor containing every field we want to serialize, and\nthat every field has a corresponding getter method. This makes it perfect to use in conjunction with records, but it can\nalso be used with regular classes."}]},{type:a,tag:m,props:{},children:[{type:b,value:"Let's take a look at how to create a codec for our "},{type:a,tag:g,props:{},children:[{type:b,value:aJ}]},{type:b,value:bK}]},{type:a,tag:n,props:{code:"public static final Codec\u003CCoolBeansClass\u003E CODEC = RecordCodecBuilder.create(instance -\u003E instance.group(\n    Codec.INT.fieldOf(\"beans_amount\").forGetter(CoolBeansClass::getBeansAmount),\n    Registries.ITEM.getCodec().fieldOf(\"bean_type\").forGetter(CoolBeansClass::getBeanType),\n    BlockPos.CODEC.listOf().fieldOf(\"bean_positions\").forGetter(CoolBeansClass::getBeanPositions)\n    \u002F\u002F Up to 16 fields can be declared here\n).apply(instance, CoolBeansClass::new));\n",language:I,meta:o},children:[{type:a,tag:E,props:{},children:[{type:a,tag:n,props:{__ignoreMap:r},children:[{type:a,tag:c,props:{class:e,line:D},children:[{type:a,tag:c,props:{class:f},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:au}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:W}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aO}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:v}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:aJ}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:C}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:as}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bj}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:bk}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bl}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:av}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bm}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:bn}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:an}]}]},{type:a,tag:c,props:{class:e,line:B},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"    Codec.INT."}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:af}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:s},children:[{type:b,value:bZ}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aa}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:ao}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bo}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:O}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"getBeansAmount),\n"}]}]},{type:a,tag:c,props:{class:e,line:A},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"    Registries.ITEM."}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:bp}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:cj}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:af}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:s},children:[{type:b,value:b$}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aa}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:ao}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bo}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:O}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"getBeanType),\n"}]}]},{type:a,tag:c,props:{class:e,line:G},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"    BlockPos.CODEC."}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cg}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:cj}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:af}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:s},children:[{type:b,value:ca}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aa}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:ao}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bo}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:O}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"getBeanPositions)\n"}]}]},{type:a,tag:c,props:{class:e,line:R},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]},{type:a,tag:c,props:{class:q},children:[{type:b,value:"\u002F\u002F Up to 16 fields can be declared here\n"}]}]},{type:a,tag:c,props:{class:e,line:V},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:aa}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aP}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"(instance, CoolBeansClass"}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:bq}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ck}]}]}]}]}]},{type:a,tag:m,props:{},children:[{type:b,value:"Each line in the group specifies a codec, a field name, and a getter method. The "},{type:a,tag:g,props:{},children:[{type:b,value:cl}]},{type:b,value:" call is used to convert\nthe codec into a "},{type:a,tag:X,props:{href:cm},children:[{type:b,value:"map codec"}]},{type:b,value:", and the "},{type:a,tag:g,props:{},children:[{type:b,value:ao}]},{type:b,value:" call specifies the getter\nmethod used to retrieve the value of the field from an instance of the class. Meanwhile, the "},{type:a,tag:g,props:{},children:[{type:b,value:aP}]},{type:b,value:" call specifies the\nconstructor used to create new instances. Note that the order of the fields in the group should be the same as the order\nof the arguments in the constructor."}]},{type:a,tag:m,props:{},children:[{type:b,value:"You can also use "},{type:a,tag:g,props:{},children:[{type:b,value:cn}]},{type:b,value:" in this context to make a field optional, as explained in\nthe "},{type:a,tag:X,props:{href:"#optional-fields"},children:[{type:b,value:co}]},{type:b,value:" section."}]},{type:a,tag:Y,props:{id:cp},children:[{type:b,value:cq}]},{type:a,tag:m,props:{},children:[{type:b,value:"Calling "},{type:a,tag:g,props:{},children:[{type:b,value:cl}]},{type:b,value:" will convert a "},{type:a,tag:g,props:{},children:[{type:b,value:cr}]},{type:b,value:" into a "},{type:a,tag:g,props:{},children:[{type:b,value:"MapCodec\u003CT\u003E"}]},{type:b,value:", which is a variant, but not direct\nimplementation of "},{type:a,tag:g,props:{},children:[{type:b,value:cr}]},{type:b,value:". It essentially boxes the value of the source codec inside a map, with the given field name\nas the key. For example, a "},{type:a,tag:g,props:{},children:[{type:b,value:"Codec\u003CBlockPos\u003E"}]},{type:b,value:" when serialized into json would look like this:"}]},{type:a,tag:n,props:{code:"[1, 2, 3]\n",language:Q,meta:o},children:[{type:a,tag:E,props:{},children:[{type:a,tag:n,props:{__ignoreMap:r},children:[{type:a,tag:c,props:{class:e,line:D},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"["}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:aC}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:ap}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:aD}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"]"}]}]}]}]}]},{type:a,tag:m,props:{},children:[{type:b,value:"But when converted into a "},{type:a,tag:g,props:{},children:[{type:b,value:"MapCodec\u003CBlockPos\u003E"}]},{type:b,value:" using "},{type:a,tag:g,props:{},children:[{type:b,value:"BlockPos.CODEC.fieldOf(\"pos\")"}]},{type:b,value:", it would look like this:"}]},{type:a,tag:n,props:{code:"{\n  \"pos\": [1, 2, 3]\n}\n",language:Q,meta:o},children:[{type:a,tag:E,props:{},children:[{type:a,tag:n,props:{__ignoreMap:r},children:[{type:a,tag:c,props:{class:e,line:D},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:am}]}]},{type:a,tag:c,props:{class:e,line:B},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:M},children:[{type:b,value:br}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:": ["}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:aC}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:ap}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:aD}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:cc}]}]},{type:a,tag:c,props:{class:e,line:A},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:$}]}]}]}]}]},{type:a,tag:m,props:{},children:[{type:b,value:"While the main use for map codecs is to be merged with other map codecs to construct a codec for a full class worth of\nfields, as explained in the "},{type:a,tag:X,props:{href:cs},children:[{type:b,value:bi}]},{type:b,value:" section\nabove, they can also be turned back into regular codecs using "},{type:a,tag:g,props:{},children:[{type:b,value:"MapCodec#codec"}]},{type:b,value:", which will retain the same behavior of\nboxing their input value."}]},{type:a,tag:ab,props:{id:"optional-fields"},children:[{type:b,value:co}]},{type:a,tag:m,props:{},children:[{type:a,tag:g,props:{},children:[{type:b,value:cn}]},{type:b,value:" can be used to create an optional map codec. This will, when the specified field is not present\nin the container during deserialization, either be deserialized as an empty "},{type:a,tag:g,props:{},children:[{type:b,value:a_}]},{type:b,value:" or a specified default value."}]},{type:a,tag:n,props:{code:"\u002F\u002F Without a default value\nMapCodec\u003COptional\u003CBlockPos\u003E\u003E optionalCodec = BlockPos.CODEC.optionalFieldOf(\"pos\");\n\n\u002F\u002F With a default value\nMapCodec\u003CBlockPos\u003E optionalCodec = BlockPos.CODEC.optionalFieldOf(\"pos\", BlockPos.ORIGIN);\n",language:I,meta:o},children:[{type:a,tag:E,props:{},children:[{type:a,tag:n,props:{__ignoreMap:r},children:[{type:a,tag:c,props:{class:e,line:D},children:[{type:a,tag:c,props:{class:q},children:[{type:b,value:"\u002F\u002F Without a default value\n"}]}]},{type:a,tag:c,props:{class:e,line:B},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:aw}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:v}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:a_}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:v}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:F}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:aM}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ct}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ar}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cu}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:s},children:[{type:b,value:br}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aY}]}]},{type:a,tag:c,props:{class:e,line:A},children:[{type:a,tag:c,props:{},children:[{type:b,value:x}]}]},{type:a,tag:c,props:{class:e,line:G},children:[{type:a,tag:c,props:{class:q},children:[{type:b,value:"\u002F\u002F With a default value\n"}]}]},{type:a,tag:c,props:{class:e,line:R},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:aw}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:v}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:F}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:C}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ct}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ar}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cu}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:s},children:[{type:b,value:br}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:", BlockPos.ORIGIN);"}]}]}]}]}]},{type:a,tag:m,props:{},children:[{type:b,value:"Do note that optional fields will silently ignore any errors that may occur during deserialization. This means that if\nthe field is present, but the value is invalid, the field will always be deserialized as the default value."}]},{type:a,tag:Y,props:{id:cv},children:[{type:b,value:cw}]},{type:a,tag:ab,props:{id:cx},children:[{type:b,value:"Unit"}]},{type:a,tag:m,props:{},children:[{type:a,tag:g,props:{},children:[{type:b,value:"Codec.unit"}]},{type:b,value:" can be used to create a codec that always deserializes to a constant value, regardless of the input. When\nserializing, it will do nothing."}]},{type:a,tag:n,props:{code:"Codec\u003CInteger\u003E theMeaningOfCodec = Codec.unit(42);\n",language:I,meta:o},children:[{type:a,tag:E,props:{},children:[{type:a,tag:n,props:{__ignoreMap:r},children:[{type:a,tag:c,props:{class:e,line:D},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:S}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:v}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:ax}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:C}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"theMeaningOfCodec"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aQ}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cx}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:"42"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:cy}]}]}]}]}]},{type:a,tag:ab,props:{id:"numeric-ranges"},children:[{type:b,value:"Numeric Ranges"}]},{type:a,tag:m,props:{},children:[{type:a,tag:g,props:{},children:[{type:b,value:"Codec.intRange"}]},{type:b,value:" and its pals, "},{type:a,tag:g,props:{},children:[{type:b,value:"Codec.floatRange"}]},{type:b,value:P},{type:a,tag:g,props:{},children:[{type:b,value:"Codec.doubleRange"}]},{type:b,value:" can be used to create a codec that only\naccepts number values within a specified "},{type:a,tag:"strong",props:{},children:[{type:b,value:"inclusive"}]},{type:b,value:" range. This applies to both serialization and deserialization."}]},{type:a,tag:n,props:{code:"\u002F\u002F Can't be more than 2\nCodec\u003CInteger\u003E amountOfFriendsYouHave = Codec.intRange(0, 2);\n",language:I,meta:o},children:[{type:a,tag:E,props:{},children:[{type:a,tag:n,props:{__ignoreMap:r},children:[{type:a,tag:c,props:{class:e,line:D},children:[{type:a,tag:c,props:{class:q},children:[{type:b,value:"\u002F\u002F Can't be more than 2\n"}]}]},{type:a,tag:c,props:{class:e,line:B},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:S}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:v}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:ax}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:C}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"amountOfFriendsYouHave"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aQ}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"intRange"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:"0"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:ap}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:cy}]}]}]}]}]},{type:a,tag:ab,props:{id:cz},children:[{type:b,value:cA}]},{type:a,tag:m,props:{},children:[{type:a,tag:g,props:{},children:[{type:b,value:"Codec.pair"}]},{type:b,value:" merges two codecs, "},{type:a,tag:g,props:{},children:[{type:b,value:cB}]},{type:b,value:P},{type:a,tag:g,props:{},children:[{type:b,value:cC}]},{type:b,value:cD},{type:a,tag:g,props:{},children:[{type:b,value:"Codec\u003CPair\u003CA, B\u003E\u003E"}]},{type:b,value:". Keep in mind it only works\nproperly with codecs that serialize to a specific field, such as\n"},{type:a,tag:X,props:{href:cm},children:[{type:b,value:"converted "},{type:a,tag:g,props:{},children:[{type:b,value:aw}]},{type:b,value:"s"}]},{type:b,value:" or\n"},{type:a,tag:X,props:{href:cs},children:[{type:b,value:"record codecs"}]},{type:b,value:".\nThe resulting codec will serialize to a map combining the fields of both codecs used."}]},{type:a,tag:m,props:{},children:[{type:b,value:"For example, running this code:"}]},{type:a,tag:n,props:{code:"\u002F\u002F Create two seperate boxed codecs\nMapCodec\u003CInteger\u003E firstCodec = Codec.INT.fieldOf(\"i_am_number\").codec();\nMapCodec\u003CBoolean\u003E secondCodec = Codec.BOOL.fieldOf(\"this_statement_is_false\").codec();\n\n\u002F\u002F Merge them into a pair codec\nCodec\u003CPair\u003CInteger, Boolean\u003E\u003E pairCodec = Codec.pair(firstCodec, secondCodec);\n\n\u002F\u002F Use it to serialize data\nDataResult\u003CJsonElement\u003E result = pairCodec.encodeStart(JsonOps.INSTANCE, Pair.of(23, true)).\n",language:I,meta:o},children:[{type:a,tag:E,props:{},children:[{type:a,tag:n,props:{__ignoreMap:r},children:[{type:a,tag:c,props:{class:e,line:D},children:[{type:a,tag:c,props:{class:q},children:[{type:b,value:"\u002F\u002F Create two seperate boxed codecs\n"}]}]},{type:a,tag:c,props:{class:e,line:B},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:aw}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:v}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:ax}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:C}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"firstCodec"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" Codec.INT."}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:af}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:s},children:[{type:b,value:cE}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aa}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cF}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aj}]}]},{type:a,tag:c,props:{class:e,line:A},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:aw}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:v}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:cG}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:C}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"secondCodec"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" Codec.BOOL."}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:af}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:s},children:[{type:b,value:cH}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aa}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cF}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aj}]}]},{type:a,tag:c,props:{class:e,line:G},children:[{type:a,tag:c,props:{},children:[{type:b,value:x}]}]},{type:a,tag:c,props:{class:e,line:R},children:[{type:a,tag:c,props:{class:q},children:[{type:b,value:"\u002F\u002F Merge them into a pair codec\n"}]}]},{type:a,tag:c,props:{class:e,line:V},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:S}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:v}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:cA}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:v}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:ax}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:cG}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:aM}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"pairCodec"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aQ}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cz}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"(firstCodec, secondCodec);\n"}]}]},{type:a,tag:c,props:{class:e,line:Z},children:[{type:a,tag:c,props:{},children:[{type:b,value:x}]}]},{type:a,tag:c,props:{class:e,line:_},children:[{type:a,tag:c,props:{class:q},children:[{type:b,value:cI}]}]},{type:a,tag:c,props:{class:e,line:ak},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:aq}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:v}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:aE}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:C}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aF}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" pairCodec."}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aZ}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"(JsonOps.INSTANCE, Pair."}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cJ}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:aR}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:"true"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"))."}]}]}]}]}]},{type:a,tag:m,props:{},children:[{type:b,value:"Will output this json:"}]},{type:a,tag:n,props:{code:"{\n  \"i_am_number\": 23,\n  \"this_statement_is_false\": true\n}\n",language:Q,meta:o},children:[{type:a,tag:E,props:{},children:[{type:a,tag:n,props:{__ignoreMap:r},children:[{type:a,tag:c,props:{class:e,line:D},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:am}]}]},{type:a,tag:c,props:{class:e,line:B},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:M},children:[{type:b,value:cE}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:T}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:aR}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ae}]}]},{type:a,tag:c,props:{class:e,line:A},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:M},children:[{type:b,value:cH}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:T}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:"true\n"}]}]},{type:a,tag:c,props:{class:e,line:G},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:$}]}]}]}]}]},{type:a,tag:ab,props:{id:"either"},children:[{type:b,value:"Either"}]},{type:a,tag:m,props:{},children:[{type:a,tag:g,props:{},children:[{type:b,value:"Codec.either"}]},{type:b,value:" combines two codecs, "},{type:a,tag:g,props:{},children:[{type:b,value:cB}]},{type:b,value:P},{type:a,tag:g,props:{},children:[{type:b,value:cC}]},{type:b,value:cD},{type:a,tag:g,props:{},children:[{type:b,value:"Codec\u003CEither\u003CA, B\u003E\u003E"}]},{type:b,value:". The resulting codec will,\nduring both "},{type:a,tag:bs,props:{},children:[{type:b,value:"serialization and deserialization"}]},{type:b,value:", attempt to use the first codec, and "},{type:a,tag:bs,props:{},children:[{type:b,value:"only if that fails"}]},{type:b,value:",\nattempt to use the second one. If the second one also fails, the error of the "},{type:a,tag:bs,props:{},children:[{type:b,value:"second"}]},{type:b,value:" codec will be returned."}]},{type:a,tag:ab,props:{id:"maps"},children:[{type:b,value:"Maps"}]},{type:a,tag:m,props:{},children:[{type:b,value:"For processing maps with arbitrary keys, such as "},{type:a,tag:g,props:{},children:[{type:b,value:"HashMap"}]},{type:b,value:"s, "},{type:a,tag:g,props:{},children:[{type:b,value:"Codec.unboundedMap"}]},{type:b,value:" can be used. This returns a\n"},{type:a,tag:g,props:{},children:[{type:b,value:"Codec\u003CMap\u003CK, V\u003E\u003E"}]},{type:b,value:" for a given "},{type:a,tag:g,props:{},children:[{type:b,value:"Codec\u003CK\u003E"}]},{type:b,value:P},{type:a,tag:g,props:{},children:[{type:b,value:"Codec\u003CV\u003E"}]},{type:b,value:". The resulting codec will serialize to a json object or\nwhatever equivalent is available for the current dynamic ops."}]},{type:a,tag:m,props:{},children:[{type:b,value:"Due to limitations of json and nbt, the key codec used must serialize to a string. This includes codecs for types that\naren't strings themselves, but do serialize to them, such as "},{type:a,tag:g,props:{},children:[{type:b,value:cK}]},{type:b,value:". See the example below:"}]},{type:a,tag:n,props:{code:"\u002F\u002F Create a codec for a map of identifiers to integers\nCodec\u003CMap\u003CIdentifier, Integer\u003E\u003E mapCodec = Codec.unboundedMap(Identifier.CODEC, Codec.INT);\n\n\u002F\u002F Use it to serialize data\nDataResult\u003CJsonElement\u003E result = mapCodec.encodeStart(JsonOps.INSTANCE, Map.of(\n    new Identifier(\"example\", \"number\"), 23,\n    new Identifier(\"example\", \"the_cooler_number\"), 42\n));\n",language:I,meta:o},children:[{type:a,tag:E,props:{},children:[{type:a,tag:n,props:{__ignoreMap:r},children:[{type:a,tag:c,props:{class:e,line:D},children:[{type:a,tag:c,props:{class:q},children:[{type:b,value:"\u002F\u002F Create a codec for a map of identifiers to integers\n"}]}]},{type:a,tag:c,props:{class:e,line:B},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:S}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:v}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"Map"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:v}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:ax}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:aM}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"mapCodec"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aQ}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"unboundedMap"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"(Identifier.CODEC, Codec.INT);\n"}]}]},{type:a,tag:c,props:{class:e,line:A},children:[{type:a,tag:c,props:{},children:[{type:b,value:x}]}]},{type:a,tag:c,props:{class:e,line:G},children:[{type:a,tag:c,props:{class:q},children:[{type:b,value:cI}]}]},{type:a,tag:c,props:{class:e,line:R},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:aq}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:v}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:aE}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:C}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aF}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" mapCodec."}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aZ}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"(JsonOps.INSTANCE, Map."}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cJ}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:an}]}]},{type:a,tag:c,props:{class:e,line:V},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:K}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:s},children:[{type:b,value:ay}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:s},children:[{type:b,value:"\"number\""}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aS}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:aR}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ae}]}]},{type:a,tag:c,props:{class:e,line:Z},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:K}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:s},children:[{type:b,value:ay}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:s},children:[{type:b,value:"\"the_cooler_number\""}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aS}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:bt}]}]},{type:a,tag:c,props:{class:e,line:_},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:ck}]}]}]}]}]},{type:a,tag:m,props:{},children:[{type:b,value:"This will output this json:"}]},{type:a,tag:n,props:{code:"{\n  \"example:number\": 23,\n  \"example:the_cooler_number\": 42\n}\n",language:Q,meta:o},children:[{type:a,tag:E,props:{},children:[{type:a,tag:n,props:{__ignoreMap:r},children:[{type:a,tag:c,props:{class:e,line:D},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:am}]}]},{type:a,tag:c,props:{class:e,line:B},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:M},children:[{type:b,value:"\"example:number\""}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:T}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:aR}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ae}]}]},{type:a,tag:c,props:{class:e,line:A},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:M},children:[{type:b,value:"\"example:the_cooler_number\""}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:T}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:bt}]}]},{type:a,tag:c,props:{class:e,line:G},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:$}]}]}]}]}]},{type:a,tag:m,props:{},children:[{type:b,value:"As you can see, this works because "},{type:a,tag:g,props:{},children:[{type:b,value:cK}]},{type:b,value:" serializes directly to a string value. A similar effect can be\nachieved for simple objects that don't serialize to strings by using "},{type:a,tag:X,props:{href:ch},children:[{type:b,value:"xmap & friends"}]},{type:b,value:" to\nconvert them."}]},{type:a,tag:Y,props:{id:cL},children:[{type:b,value:cM}]},{type:a,tag:ab,props:{id:aN},children:[{type:b,value:aN}]},{type:a,tag:m,props:{},children:[{type:b,value:"Say we have two classes that can be converted to each other, but don't have a parent-child relationship. For example,\na vanilla "},{type:a,tag:g,props:{},children:[{type:b,value:F}]},{type:b,value:P},{type:a,tag:g,props:{},children:[{type:b,value:bu}]},{type:b,value:". If we have a codec for one, we can use "},{type:a,tag:g,props:{},children:[{type:b,value:"Codec#xmap"}]},{type:b,value:" to create a codec for the other by\nspecifying a conversion function for each direction."}]},{type:a,tag:m,props:{},children:[{type:a,tag:g,props:{},children:[{type:b,value:F}]},{type:b,value:" already has a codec, but let's pretend it doesn't. We can create one for it by basing it on the\ncodec for "},{type:a,tag:g,props:{},children:[{type:b,value:bu}]},{type:b,value:" like this:"}]},{type:a,tag:n,props:{code:"Codec\u003CBlockPos\u003E blockPosCodec = Vec3d.CODEC.xmap(\n    \u002F\u002F Convert Vec3d to BlockPos\n    vec -\u003E new BlockPos(vec.x, vec.y, vec.z),\n    \u002F\u002F Convert BlockPos to Vec3d\n    pos -\u003E new Vec3d(pos.getX(), pos.getY(), pos.getZ())\n);\n\n\u002F\u002F It'd be cleaner to use method references to helper functions to transform \n\u002F\u002F between the two, but this is just an example\n",language:I,meta:o},children:[{type:a,tag:E,props:{},children:[{type:a,tag:n,props:{__ignoreMap:r},children:[{type:a,tag:c,props:{class:e,line:D},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:S}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:v}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:F}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:C}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"blockPosCodec"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" Vec3d.CODEC."}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aN}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:an}]}]},{type:a,tag:c,props:{class:e,line:B},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]},{type:a,tag:c,props:{class:q},children:[{type:b,value:"\u002F\u002F Convert Vec3d to BlockPos\n"}]}]},{type:a,tag:c,props:{class:e,line:A},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"    vec "}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:av}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:K}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:F}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"(vec.x, vec.y, vec.z),\n"}]}]},{type:a,tag:c,props:{class:e,line:G},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]},{type:a,tag:c,props:{class:q},children:[{type:b,value:"\u002F\u002F Convert BlockPos to Vec3d\n"}]}]},{type:a,tag:c,props:{class:e,line:R},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"    pos "}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:av}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:K}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:bu}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"(pos."}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"getX"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:cN}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"getY"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:cN}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"getZ"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"())\n"}]}]},{type:a,tag:c,props:{class:e,line:V},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:aY}]}]},{type:a,tag:c,props:{class:e,line:Z},children:[{type:a,tag:c,props:{},children:[{type:b,value:x}]}]},{type:a,tag:c,props:{class:e,line:_},children:[{type:a,tag:c,props:{class:q},children:[{type:b,value:"\u002F\u002F It'd be cleaner to use method references to helper functions to transform \n"}]}]},{type:a,tag:c,props:{class:e,line:ak},children:[{type:a,tag:c,props:{class:q},children:[{type:b,value:"\u002F\u002F between the two, but this is just an example"}]}]}]}]}]},{type:a,tag:ab,props:{id:"flatcomapmap-comapflatmap-and-flatxmap"},children:[{type:b,value:"flatComapMap, comapFlatMap, and flatXMap"}]},{type:a,tag:m,props:{},children:[{type:a,tag:g,props:{},children:[{type:b,value:"Codec#flatComapMap"}]},{type:b,value:z},{type:a,tag:g,props:{},children:[{type:b,value:"Codec#comapFlatMap"}]},{type:b,value:P},{type:a,tag:g,props:{},children:[{type:b,value:"flatXMap"}]},{type:b,value:" are similar to xmap, but they allow one or both of the\nconversion functions to return a DataResult. This is useful in practice because a specific object instance may not\nalways be valid for conversion."}]},{type:a,tag:m,props:{},children:[{type:b,value:"Take for example vanilla "},{type:a,tag:g,props:{},children:[{type:b,value:J}]},{type:b,value:"s. Not all strings are valid identifiers, so using xmap would mean throwing ugly\nexceptions when the conversion fails. However, its codec is actually a "},{type:a,tag:g,props:{},children:[{type:b,value:cO}]},{type:b,value:" on "},{type:a,tag:g,props:{},children:[{type:b,value:bW}]},{type:b,value:", nicely\nillustrating how to use it:"}]},{type:a,tag:n,props:{code:"public class Identifier {\n    public static final Codec\u003CIdentifier\u003E CODEC = Codec.STRING.comapFlatMap(\n        Identifier::validate, Identifier::toString\n    );\n\n    \u002F\u002F ...\n\n    public static DataResult\u003CIdentifier\u003E validate(String id) {\n        try {\n            return DataResult.success(new Identifier(id));\n        } catch (InvalidIdentifierException e) {\n            return DataResult.error(\"Not a valid resource location: \" + id + \" \" + e.getMessage());\n        }\n    }\n    \n    \u002F\u002F ...\n}\n",language:I,meta:o},children:[{type:a,tag:E,props:{},children:[{type:a,tag:n,props:{__ignoreMap:r},children:[{type:a,tag:c,props:{class:e,line:D},children:[{type:a,tag:c,props:{class:f},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:al}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ad}]}]},{type:a,tag:c,props:{class:e,line:B},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:au}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:W}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aO}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:v}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:C}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:as}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" Codec.STRING."}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:cO}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:an}]}]},{type:a,tag:c,props:{class:e,line:A},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"        Identifier"}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:O}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"validate, Identifier"}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:O}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"toString\n"}]}]},{type:a,tag:c,props:{class:e,line:G},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"    );\n"}]}]},{type:a,tag:c,props:{class:e,line:R},children:[{type:a,tag:c,props:{},children:[{type:b,value:x}]}]},{type:a,tag:c,props:{class:e,line:V},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]},{type:a,tag:c,props:{class:q},children:[{type:b,value:ag}]}]},{type:a,tag:c,props:{class:e,line:Z},children:[{type:a,tag:c,props:{},children:[{type:b,value:x}]}]},{type:a,tag:c,props:{class:e,line:_},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:au}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" DataResult\u003C"}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:C}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"validate"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"(String "}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:"id"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:cP}]}]},{type:a,tag:c,props:{class:e,line:ak},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:cQ}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"try"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ad}]}]},{type:a,tag:c,props:{class:e,line:aG},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:cR}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:at}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:cS}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"success"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:K}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"(id));\n"}]}]},{type:a,tag:c,props:{class:e,line:aH},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"        } "}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"catch"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" (InvalidIdentifierException "}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:"e"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:cP}]}]},{type:a,tag:c,props:{class:e,line:aI},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:cR}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:at}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:cS}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"error"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:s},children:[{type:b,value:"\"Not a valid resource location: \""}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:bv}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" id "}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:bv}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:s},children:[{type:b,value:"\" \""}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:bv}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" e."}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"getMessage"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:cT}]}]},{type:a,tag:c,props:{class:e,line:a$},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"        }\n"}]}]},{type:a,tag:c,props:{class:e,line:ba},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:cU}]}]},{type:a,tag:c,props:{class:e,line:bb},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:bc}]}]},{type:a,tag:c,props:{class:e,line:cV},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]},{type:a,tag:c,props:{class:q},children:[{type:b,value:ag}]}]},{type:a,tag:c,props:{class:e,line:cW},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:$}]}]}]}]}]},{type:a,tag:m,props:{},children:[{type:b,value:"While these methods are really helpful, their names are a bit confusing, so here's a table to help you remember which\none to use:"}]},{type:a,tag:"table",props:{},children:[{type:a,tag:"thead",props:{},children:[{type:a,tag:az,props:{},children:[{type:a,tag:bw,props:{align:o},children:[{type:b,value:"Method"}]},{type:a,tag:bw,props:{align:o},children:[{type:b,value:"A -\u003E B always valid?"}]},{type:a,tag:bw,props:{align:o},children:[{type:b,value:"B -\u003E A always valid?"}]}]}]},{type:a,tag:"tbody",props:{},children:[{type:a,tag:az,props:{},children:[{type:a,tag:N,props:{align:o},children:[{type:a,tag:g,props:{},children:[{type:b,value:"Codec\u003CA\u003E#xmap"}]}]},{type:a,tag:N,props:{align:o},children:[{type:b,value:aT}]},{type:a,tag:N,props:{align:o},children:[{type:b,value:aT}]}]},{type:a,tag:az,props:{},children:[{type:a,tag:N,props:{align:o},children:[{type:a,tag:g,props:{},children:[{type:b,value:"Codec\u003CA\u003E#comapFlatMap"}]}]},{type:a,tag:N,props:{align:o},children:[{type:b,value:aU}]},{type:a,tag:N,props:{align:o},children:[{type:b,value:aT}]}]},{type:a,tag:az,props:{},children:[{type:a,tag:N,props:{align:o},children:[{type:a,tag:g,props:{},children:[{type:b,value:"Codec\u003CA\u003E#flatComapMap"}]}]},{type:a,tag:N,props:{align:o},children:[{type:b,value:aT}]},{type:a,tag:N,props:{align:o},children:[{type:b,value:aU}]}]},{type:a,tag:az,props:{},children:[{type:a,tag:N,props:{align:o},children:[{type:a,tag:g,props:{},children:[{type:b,value:"Codec\u003CA\u003E#flatXMap"}]}]},{type:a,tag:N,props:{align:o},children:[{type:b,value:aU}]},{type:a,tag:N,props:{align:o},children:[{type:b,value:aU}]}]}]}]},{type:a,tag:Y,props:{id:cX},children:[{type:b,value:cY}]},{type:a,tag:m,props:{},children:[{type:a,tag:g,props:{},children:[{type:b,value:"Codec#dispatch"}]},{type:b,value:" let us define a registry of codecs and dispatch to a specific one based on the value of a\nfield in the serialized data. This is very useful when deserializing objects that have different fields depending on\ntheir type, but still represent the same thing."}]},{type:a,tag:m,props:{},children:[{type:b,value:"For example, say we have an abstract "},{type:a,tag:g,props:{},children:[{type:b,value:ah}]},{type:b,value:" class with two subclasses: "},{type:a,tag:g,props:{},children:[{type:b,value:bx}]},{type:b,value:P},{type:a,tag:g,props:{},children:[{type:b,value:by}]},{type:b,value:". To serialize\nthese with a registry dispatch, we'll need a few things:"}]},{type:a,tag:bg,props:{},children:[{type:a,tag:U,props:{},children:[{type:b,value:"Separate codecs for every type of bean."}]},{type:a,tag:U,props:{},children:[{type:b,value:cZ},{type:a,tag:g,props:{},children:[{type:b,value:ac}]},{type:b,value:" interface or class that represents the type of bean, and can return the codec for it."}]},{type:a,tag:U,props:{},children:[{type:b,value:"A function on "},{type:a,tag:g,props:{},children:[{type:b,value:ah}]},{type:b,value:" to retrieve its "},{type:a,tag:g,props:{},children:[{type:b,value:ac}]},{type:b,value:aL}]},{type:a,tag:U,props:{},children:[{type:b,value:"A map or registry to map "},{type:a,tag:g,props:{},children:[{type:b,value:J}]},{type:b,value:"s to "},{type:a,tag:g,props:{},children:[{type:b,value:ac}]},{type:b,value:"s."}]},{type:a,tag:U,props:{},children:[{type:b,value:cZ},{type:a,tag:g,props:{},children:[{type:b,value:"Codec\u003CBeanType\u003E"}]},{type:b,value:" based on this registry. If you used a "},{type:a,tag:g,props:{},children:[{type:b,value:"net.minecraft.registry.Registry"}]},{type:b,value:", one can be easily made\nusing "},{type:a,tag:g,props:{},children:[{type:b,value:"Registry#getCodec"}]},{type:b,value:aL}]}]},{type:a,tag:m,props:{},children:[{type:b,value:"With all of this, we can create a registry dispatch codec for beans:"}]},{type:a,tag:n,props:{code:"class Bean {\n    \u002F\u002F ...\n    public BeanType getType() {\n        \u002F\u002F ...\n    }\n}\n\nclass BeanType {\n    \u002F\u002F ...\n    \n    public Codec\u003C? extends Bean\u003E getCodec();\n}\n\nclass StringyBean extends Bean {\n    public static final Codec\u003CStringyBean\u003E CODEC = RecordCodecBuilder.create(instance -\u003E instance.group(\n        Codec.STRING.fieldOf(\"stringy_string\").forGetter(StringyBean::getStringyString)\n    ).apply(instance, StringyBean::new));\n\n    public final String stringyString;\n\n    \u002F\u002F ...\n}\n\nclass CountingBean extends Bean {\n    public static final Codec\u003CCountingBean\u003E CODEC = RecordCodecBuilder.create(instance -\u003E instance.group(\n        Codec.INT.fieldOf(\"counting_number\").forGetter(CountingBean::getCountingNumber)\n    ).apply(instance, CountingBean::new));\n\n    public final int countingNumber;\n\n    \u002F\u002F ...\n}\n\n\u002F\u002F Create a registry to map identifiers to bean types\nRegistry\u003CBeanType\u003E beanTypeRegistry = new SimpleRegistry\u003C\u003E(new Identifier(\"example\", \"bean_types\"), Lifecycle.stable());\n\n\u002F\u002F Register the bean types\nbeanTypeRegistry.register(new Identifier(\"example\", \"stringy_bean\"), new BeanType(StringyBean.CODEC));\nbeanTypeRegistry.register(new Identifier(\"example\", \"counting_bean\"), new BeanType(CountingBean.CODEC));\n\n\u002F\u002F Create a codec for bean types\nCodec\u003CBeanType\u003E beanTypeCodec = beanTypeRegistry.getCodec();\n\n\u002F\u002F And here's our registry dispatch codec for beans! \n\u002F\u002F The first argument is the field name for the bean type\nCodec\u003CBean\u003E beanCodec = beanTypeCodec.dispatch(\"type\", Bean::getType, BeanType::getCodec);\n",language:I,meta:o},children:[{type:a,tag:E,props:{},children:[{type:a,tag:n,props:{__ignoreMap:r},children:[{type:a,tag:c,props:{class:e,line:D},children:[{type:a,tag:c,props:{class:f},children:[{type:b,value:al}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:ah}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ad}]}]},{type:a,tag:c,props:{class:e,line:B},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]},{type:a,tag:c,props:{class:q},children:[{type:b,value:ag}]}]},{type:a,tag:c,props:{class:e,line:A},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" BeanType "}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"getType"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"() {\n"}]}]},{type:a,tag:c,props:{class:e,line:G},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:cQ}]},{type:a,tag:c,props:{class:q},children:[{type:b,value:ag}]}]},{type:a,tag:c,props:{class:e,line:R},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:cU}]}]},{type:a,tag:c,props:{class:e,line:V},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:aV}]}]},{type:a,tag:c,props:{class:e,line:Z},children:[{type:a,tag:c,props:{},children:[{type:b,value:x}]}]},{type:a,tag:c,props:{class:e,line:_},children:[{type:a,tag:c,props:{class:f},children:[{type:b,value:al}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:ac}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ad}]}]},{type:a,tag:c,props:{class:e,line:ak},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]},{type:a,tag:c,props:{class:q},children:[{type:b,value:ag}]}]},{type:a,tag:c,props:{class:e,line:aG},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:bc}]}]},{type:a,tag:c,props:{class:e,line:aH},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" Codec\u003C"}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:"?"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:bz}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:ah}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:C}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:bp}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aj}]}]},{type:a,tag:c,props:{class:e,line:aI},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:aV}]}]},{type:a,tag:c,props:{class:e,line:a$},children:[{type:a,tag:c,props:{},children:[{type:b,value:x}]}]},{type:a,tag:c,props:{class:e,line:ba},children:[{type:a,tag:c,props:{class:f},children:[{type:b,value:al}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:bx}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:bz}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:ah}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ad}]}]},{type:a,tag:c,props:{class:e,line:bb},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:au}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:W}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aO}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:v}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:bx}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:C}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:as}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bj}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:bk}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bl}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:av}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bm}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:bn}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:an}]}]},{type:a,tag:c,props:{class:e,line:cV},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"        Codec.STRING."}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:af}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:s},children:[{type:b,value:c_}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aa}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:ao}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"(StringyBean"}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:O}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"getStringyString)\n"}]}]},{type:a,tag:c,props:{class:e,line:cW},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:c$}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aP}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"(instance, StringyBean"}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:bq}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:da}]}]},{type:a,tag:c,props:{class:e,line:18},children:[{type:a,tag:c,props:{},children:[{type:b,value:x}]}]},{type:a,tag:c,props:{class:e,line:19},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:W}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" String"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"stringyString;\n"}]}]},{type:a,tag:c,props:{class:e,line:20},children:[{type:a,tag:c,props:{},children:[{type:b,value:x}]}]},{type:a,tag:c,props:{class:e,line:21},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]},{type:a,tag:c,props:{class:q},children:[{type:b,value:ag}]}]},{type:a,tag:c,props:{class:e,line:22},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:aV}]}]},{type:a,tag:c,props:{class:e,line:23},children:[{type:a,tag:c,props:{},children:[{type:b,value:x}]}]},{type:a,tag:c,props:{class:e,line:t},children:[{type:a,tag:c,props:{class:f},children:[{type:b,value:al}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:by}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:bz}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:ah}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ad}]}]},{type:a,tag:c,props:{class:e,line:25},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:au}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:W}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aO}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:v}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:by}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:C}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:as}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bj}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:bk}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bl}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:av}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bm}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:bn}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:an}]}]},{type:a,tag:c,props:{class:e,line:26},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"        Codec.INT."}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:af}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:s},children:[{type:b,value:db}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aa}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:ao}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"(CountingBean"}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:O}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"getCountingNumber)\n"}]}]},{type:a,tag:c,props:{class:e,line:27},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:c$}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aP}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"(instance, CountingBean"}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:bq}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:da}]}]},{type:a,tag:c,props:{class:e,line:28},children:[{type:a,tag:c,props:{},children:[{type:b,value:x}]}]},{type:a,tag:c,props:{class:e,line:29},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:H}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:W}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:aK}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"countingNumber;\n"}]}]},{type:a,tag:c,props:{class:e,line:30},children:[{type:a,tag:c,props:{},children:[{type:b,value:x}]}]},{type:a,tag:c,props:{class:e,line:31},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]},{type:a,tag:c,props:{class:q},children:[{type:b,value:ag}]}]},{type:a,tag:c,props:{class:e,line:32},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:aV}]}]},{type:a,tag:c,props:{class:e,line:33},children:[{type:a,tag:c,props:{},children:[{type:b,value:x}]}]},{type:a,tag:c,props:{class:e,line:34},children:[{type:a,tag:c,props:{class:q},children:[{type:b,value:"\u002F\u002F Create a registry to map identifiers to bean types\n"}]}]},{type:a,tag:c,props:{class:e,line:35},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"Registry"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:v}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:ac}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:C}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"beanTypeRegistry"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:K}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" SimpleRegistry\u003C\u003E("}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:K}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:s},children:[{type:b,value:ay}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:s},children:[{type:b,value:"\"bean_types\""}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"), Lifecycle."}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"stable"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:cT}]}]},{type:a,tag:c,props:{class:e,line:36},children:[{type:a,tag:c,props:{},children:[{type:b,value:x}]}]},{type:a,tag:c,props:{class:e,line:37},children:[{type:a,tag:c,props:{class:q},children:[{type:b,value:"\u002F\u002F Register the bean types\n"}]}]},{type:a,tag:c,props:{class:e,line:38},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:dc}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:dd}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:K}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:s},children:[{type:b,value:ay}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:s},children:[{type:b,value:"\"stringy_bean\""}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aS}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:K}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:ac}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"(StringyBean.CODEC));\n"}]}]},{type:a,tag:c,props:{class:e,line:39},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:dc}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:dd}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:K}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:s},children:[{type:b,value:ay}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:s},children:[{type:b,value:"\"counting_bean\""}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aS}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:K}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:ac}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"(CountingBean.CODEC));\n"}]}]},{type:a,tag:c,props:{class:e,line:40},children:[{type:a,tag:c,props:{},children:[{type:b,value:x}]}]},{type:a,tag:c,props:{class:e,line:41},children:[{type:a,tag:c,props:{class:q},children:[{type:b,value:"\u002F\u002F Create a codec for bean types\n"}]}]},{type:a,tag:c,props:{class:e,line:42},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:S}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:v}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:ac}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:C}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"beanTypeCodec"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" beanTypeRegistry."}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:bp}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aj}]}]},{type:a,tag:c,props:{class:e,line:43},children:[{type:a,tag:c,props:{},children:[{type:b,value:x}]}]},{type:a,tag:c,props:{class:e,line:44},children:[{type:a,tag:c,props:{class:q},children:[{type:b,value:"\u002F\u002F And here's our registry dispatch codec for beans! \n"}]}]},{type:a,tag:c,props:{class:e,line:45},children:[{type:a,tag:c,props:{class:q},children:[{type:b,value:"\u002F\u002F The first argument is the field name for the bean type\n"}]}]},{type:a,tag:c,props:{class:e,line:46},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:S}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:v}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:ah}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:C}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"beanCodec"}]},{type:a,tag:c,props:{class:h},children:[{type:b,value:i}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" beanTypeCodec."}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"dispatch"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:u}]},{type:a,tag:c,props:{class:s},children:[{type:b,value:bA}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:", Bean"}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:O}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"getType, BeanType"}]},{type:a,tag:c,props:{class:f},children:[{type:b,value:O}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"getCodec);"}]}]}]}]}]},{type:a,tag:m,props:{},children:[{type:b,value:"This will serialize beans to json like this, grabbing only fields that are relevant to its type:"}]},{type:a,tag:n,props:{code:"{\n  \"type\": \"example:stringy_bean\",\n  \"stringy_string\": \"This bean is stringy!\"\n}\n",language:Q,meta:o},children:[{type:a,tag:E,props:{},children:[{type:a,tag:n,props:{__ignoreMap:r},children:[{type:a,tag:c,props:{class:e,line:D},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:am}]}]},{type:a,tag:c,props:{class:e,line:B},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:M},children:[{type:b,value:bA}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:T}]},{type:a,tag:c,props:{class:s},children:[{type:b,value:"\"example:stringy_bean\""}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ae}]}]},{type:a,tag:c,props:{class:e,line:A},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:M},children:[{type:b,value:c_}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:T}]},{type:a,tag:c,props:{class:s},children:[{type:b,value:"\"This bean is stringy!\"\n"}]}]},{type:a,tag:c,props:{class:e,line:G},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:$}]}]}]}]}]},{type:a,tag:n,props:{code:"{\n  \"type\": \"example:counting_bean\",\n  \"counting_number\": 42\n}\n",language:Q,meta:o},children:[{type:a,tag:E,props:{},children:[{type:a,tag:n,props:{__ignoreMap:r},children:[{type:a,tag:c,props:{class:e,line:D},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:am}]}]},{type:a,tag:c,props:{class:e,line:B},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:M},children:[{type:b,value:bA}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:T}]},{type:a,tag:c,props:{class:s},children:[{type:b,value:"\"example:counting_bean\""}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ae}]}]},{type:a,tag:c,props:{class:e,line:A},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:M},children:[{type:b,value:db}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:T}]},{type:a,tag:c,props:{class:p},children:[{type:b,value:bt}]}]},{type:a,tag:c,props:{class:e,line:G},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:$}]}]}]}]}]},{type:a,tag:aX,props:{id:de},children:[{type:b,value:df}]},{type:a,tag:bg,props:{},children:[{type:a,tag:U,props:{},children:[{type:b,value:"A much more comprehensive documentation of codecs and related APIs can be found at the\n"},{type:a,tag:X,props:{href:"https:\u002F\u002Fkvverti.github.io\u002FDocumented-DataFixerUpper\u002Fsnapshot\u002Fcom\u002Fmojang\u002Fserialization\u002FCodec.html",rel:[dg]},children:[{type:b,value:"Unofficial DFU JavaDoc"}]},{type:b,value:aL}]},{type:a,tag:U,props:{},children:[{type:b,value:"The general structure of this guide was heavily inspired by the\n"},{type:a,tag:X,props:{href:"https:\u002F\u002Fforge.gemwire.uk\u002Fwiki\u002FCodecs",rel:[dg]},children:[{type:b,value:"Forge Community Wiki's page on codecs"}]},{type:b,value:", a more Forge-specific take on the same\ntopic."}]}]},{type:a,tag:"style",children:[{type:b,value:".ct-59ef83{color:#116329}\n.ct-773808{color:#0A3069}\n.ct-ea7a7d{color:#6E7781}\n.ct-cbb79b{color:#0550AE}\n.ct-7bd8d7{color:#8250DF}\n.ct-c7e4a7{color:#CF222E}\n.ct-6a99cf{color:#953800}\n.ct-6b7995{color:#24292F}\n.dark .ct-6b7995{color:#C9D1D9}\n.dark .ct-6a99cf{color:#FFA657}\n.dark .ct-c7e4a7{color:#FF7B72}\n.dark .ct-7bd8d7{color:#D2A8FF}\n.dark .ct-cbb79b{color:#79C0FF}\n.dark .ct-ea7a7d{color:#8B949E}\n.dark .ct-773808{color:#A5D6FF}\n.dark .ct-59ef83{color:#7EE787}"}]}],toc:{title:r,searchDepth:B,depth:B,links:[{id:bE,depth:B,text:bF,children:[{id:bG,depth:A,text:bH},{id:bS,depth:A,text:bT}]},{id:bX,depth:B,text:bY,children:[{id:ce,depth:A,text:cf},{id:ci,depth:A,text:bi},{id:cp,depth:A,text:cq},{id:cv,depth:A,text:cw},{id:cL,depth:A,text:cM},{id:cX,depth:A,text:cY}]},{id:de,depth:B,text:df}]}},_type:aA,_id:"content:9.misc:codecs.md",_source:bB,_file:"9.misc\u002Fcodecs.md",_extension:bC,layout:dh}},"$sdd-surrounds":{"/misc/codecs":[{_path:di,_dir:aW,_draft:l,_partial:l,_locale:r,_empty:l,title:dj,description:"Learn how to solve simple issues and mistakes on your own.",_type:aA,_id:"content:9.misc:basic-problem-solving.md",_source:bB,_file:"9.misc\u002Fbasic-problem-solving.md",_extension:bC},{_path:dk,_dir:aW,_draft:l,_partial:l,_locale:r,_empty:l,title:dl,description:"Learn how to create your own events which allow compatability with other mods.",_type:aA,_id:"content:9.misc:creating-events.md",_source:bB,_file:"9.misc\u002Fcreating-events.md",_extension:bC}]},"$sdd-globals":{},"$scolor-mode":{preference:dm,value:dm,unknown:ai,forced:l},"$sdd-navigation":[{title:"Homepage",_path:dn,icon:"mdi:home"},{title:"Archived Pages",_path:"\u002Farchives",icon:"mdi:archive"},{title:"Contribute",_path:"\u002Fcontribute",icon:"mdi:source-pull"},{title:"Legal",_path:"\u002Flegal",icon:"mdi:scale-balance"},{title:"Creating Your First Mod",_path:"\u002Fintroduction",children:[{title:"Introduction to Modding",_path:"\u002Fintroduction\u002Fintroduction_to_modding"},{title:"Creating Your First Project",_path:"\u002Fintroduction\u002Fcreating_your_first_project"},{title:do0,_path:dp,children:[{title:do0,_path:dp},{title:"Mixin Applications",_path:"\u002Fintroduction\u002Fmixins\u002Fmixin_applications"}]},{title:"Access Wideners",_path:"\u002Fintroduction\u002Faccess_wideners"},{title:"What Now?",_path:"\u002Fintroduction\u002Fwhat_now"}]},{title:"Adding Items",_path:"\u002Fitems",children:[{title:"Creating Your First Item",_path:"\u002Fitems\u002Fcreating-first-item"},{title:"Food",_path:"\u002Fitems\u002Ffood"},{title:"Tools",_path:"\u002Fitems\u002Ftools"},{title:"Armor",_path:"\u002Fitems\u002Farmor"},{title:"Custom Item Groups",_path:"\u002Fitems\u002Fitem-groups"},{title:"Interactive Items",_path:"\u002Fitems\u002Finteractive-items"}]},{title:"Adding Blocks",_path:"\u002Fblocks",children:[{title:"Creating Your First Block",_path:"\u002Fblocks\u002Fcreating-first-block"},{title:"Block States",_path:"\u002Fblocks\u002Fblockstates"},{title:"Block Entities",_path:"\u002Fblocks\u002Fblockentities"}]},{title:"Data Generation",_path:"\u002Fdatagen",children:[{title:"Data Generation Setup",_path:"\u002Fdatagen\u002Fsetup"},{title:"Translation Provider",_path:"\u002Fdatagen\u002Ftranslation-provider"},{title:"Tag Provider",_path:"\u002Fdatagen\u002Ftag-provider"},{title:"Loot Table Provider",_path:"\u002Fdatagen\u002Floot-table-provider"}]},{title:"Rendering",_path:"\u002Frendering",children:[{title:"Basics Of Rendering",_path:"\u002Frendering\u002Fbasics",layout:dh},{title:"Matrices",_path:"\u002Frendering\u002Fmatrices"},{title:"Rendering in the World",_path:"\u002Frendering\u002Fworld"}]},{title:"Miscelaneous Pages",_path:dq,children:[{title:dj,_path:di},{title:aB,_path:bD},{title:dl,_path:dk},{title:"Creating Particle Factories",_path:"\u002Fmisc\u002Fcreating-particles-factories"},{title:"Creating Custom Particles",_path:"\u002Fmisc\u002Fcreating-particles"},{title:"Creating Custom Sounds",_path:"\u002Fmisc\u002Fcustom-sounds"},{title:"Text and Translations",_path:"\u002Fmisc\u002Ftext-and-translations"},{title:"Using Fabric API Events",_path:"\u002Fmisc\u002Fusing-events"},{title:"Playing Sounds",_path:"\u002Fmisc\u002Fusing-sound"}]}],$sicons:{"heroicons-outline:menu":{left:k,top:k,width:t,height:t,rotate:k,vFlip:l,hFlip:l,body:"\u003Cpath fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 6h16M4 12h16M4 18h16\"\u002F\u003E"},"simple-icons:discord":{left:k,top:k,width:t,height:t,rotate:k,vFlip:l,hFlip:l,body:"\u003Cpath fill=\"currentColor\" d=\"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418Z\"\u002F\u003E"},"fa-brands:github":{left:k,top:k,width:496,height:512,rotate:k,vFlip:l,hFlip:l,body:"\u003Cpath fill=\"currentColor\" d=\"M165.9 397.4c0 2-2.3 3.6-5.2 3.6c-3.3.3-5.6-1.3-5.6-3.6c0-2 2.3-3.6 5.2-3.6c3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9c2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9c.3 2 2.9 3.3 5.9 2.6c2.9-.7 4.9-2.6 4.6-4.6c-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2c12.8 2.3 17.3-5.6 17.3-12.1c0-6.2-.3-40.4-.3-61.4c0 0-70 15-84.7-29.8c0 0-11.4-29.1-27.8-36.6c0 0-22.9-15.7 1.6-15.4c0 0 24.9 2 38.6 25.8c21.9 38.6 58.6 27.5 72.9 20.9c2.3-16 8.8-27.1 16-33.7c-55.9-6.2-112.3-14.3-112.3-110.5c0-27.5 7.6-41.3 23.6-58.9c-2.6-6.5-11.1-33.3 2.6-67.9c20.9-6.5 69 27 69 27c20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27c13.7 34.7 5.2 61.4 2.6 67.9c16 17.7 25.8 31.5 25.8 58.9c0 96.5-58.9 104.2-114.8 110.5c9.2 7.9 17 22.9 17 46.4c0 33.7-.3 75.4-.3 83.6c0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252C496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2c1.6 1.6 3.9 2.3 5.2 1c1.3-1 1-3.3-.7-5.2c-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9c1.6 1 3.6.7 4.3-.7c.7-1.3-.3-2.9-2.3-3.9c-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2c2.3 2.3 5.2 2.6 6.5 1c1.3-1.3.7-4.3-1.3-6.2c-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9c1.6 2.3 4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2c-1.4-2.3-4-3.3-5.6-2z\"\u002F\u003E"},"simple-icons:nuxtdotjs":{left:k,top:k,width:t,height:t,rotate:k,vFlip:l,hFlip:l,body:"\u003Cpath fill=\"currentColor\" d=\"M13.464 19.83h8.922c.283 0 .562-.073.807-.21a1.59 1.59 0 0 0 .591-.574a1.53 1.53 0 0 0 .216-.783a1.529 1.529 0 0 0-.217-.782L17.792 7.414a1.59 1.59 0 0 0-.591-.573a1.652 1.652 0 0 0-.807-.21c-.283 0-.562.073-.807.21a1.59 1.59 0 0 0-.59.573L13.463 9.99L10.47 4.953a1.591 1.591 0 0 0-.591-.573a1.653 1.653 0 0 0-.807-.21c-.284 0-.562.073-.807.21a1.591 1.591 0 0 0-.591.573L.216 17.481a1.53 1.53 0 0 0-.217.782c0 .275.074.545.216.783a1.59 1.59 0 0 0 .59.574c.246.137.525.21.808.21h5.6c2.22 0 3.856-.946 4.982-2.79l2.733-4.593l1.464-2.457l4.395 7.382h-5.859Zm-6.341-2.46l-3.908-.002l5.858-9.842l2.923 4.921l-1.957 3.29c-.748 1.196-1.597 1.632-2.916 1.632z\"\u002F\u003E"},"mdi:home":{left:k,top:k,width:t,height:t,rotate:k,vFlip:l,hFlip:l,body:"\u003Cpath fill=\"currentColor\" d=\"M10 20v-6h4v6h5v-8h3L12 3L2 12h3v8h5Z\"\u002F\u003E"},"mdi:archive":{left:k,top:k,width:t,height:t,rotate:k,vFlip:l,hFlip:l,body:"\u003Cpath fill=\"currentColor\" d=\"M3 3h18v4H3V3m1 5h16v13H4V8m5.5 3a.5.5 0 0 0-.5.5V13h6v-1.5a.5.5 0 0 0-.5-.5h-5Z\"\u002F\u003E"},"mdi:source-pull":{left:k,top:k,width:t,height:t,rotate:k,vFlip:l,hFlip:l,body:"\u003Cpath fill=\"currentColor\" d=\"M6 3a3 3 0 0 1 3 3c0 1.31-.83 2.42-2 2.83v6.34c1.17.41 2 1.52 2 2.83a3 3 0 0 1-3 3a3 3 0 0 1-3-3c0-1.31.83-2.42 2-2.83V8.83A2.99 2.99 0 0 1 3 6a3 3 0 0 1 3-3m0 2a1 1 0 0 0-1 1a1 1 0 0 0 1 1a1 1 0 0 0 1-1a1 1 0 0 0-1-1m0 12a1 1 0 0 0-1 1a1 1 0 0 0 1 1a1 1 0 0 0 1-1a1 1 0 0 0-1-1m15 1a3 3 0 0 1-3 3a3 3 0 0 1-3-3c0-1.31.83-2.42 2-2.83V7h-2v3.25L10.75 6L15 1.75V5h2a2 2 0 0 1 2 2v8.17c1.17.41 2 1.52 2 2.83m-3-1a1 1 0 0 0-1 1a1 1 0 0 0 1 1a1 1 0 0 0 1-1a1 1 0 0 0-1-1Z\"\u002F\u003E"},"mdi:scale-balance":{left:k,top:k,width:t,height:t,rotate:k,vFlip:l,hFlip:l,body:"\u003Cpath fill=\"currentColor\" d=\"M12 3c-1.27 0-2.4.8-2.82 2H3v2h1.95L2 14c-.47 2 1 3 3.5 3s4.06-1 3.5-3L6.05 7h3.12c.33.85.98 1.5 1.83 1.83V20H2v2h20v-2h-9V8.82c.85-.32 1.5-.97 1.82-1.82h3.13L15 14c-.47 2 1 3 3.5 3s4.06-1 3.5-3l-2.95-7H21V5h-6.17C14.4 3.8 13.27 3 12 3m0 2a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m-6.5 5.25L7 14H4l1.5-3.75m13 0L20 14h-3l1.5-3.75Z\"\u002F\u003E"},"lucide:chevrons-down-up":{left:k,top:k,width:t,height:t,rotate:k,vFlip:l,hFlip:l,body:"\u003Cpath fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"m7 20l5-5l5 5M7 4l5 5l5-5\"\u002F\u003E"},"lucide:chevrons-up-down":{left:k,top:k,width:t,height:t,rotate:k,vFlip:l,hFlip:l,body:"\u003Cpath fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"m7 15l5 5l5-5M7 9l5-5l5 5\"\u002F\u003E"},"heroicons-outline:arrow-sm-left":{left:k,top:k,width:t,height:t,rotate:k,vFlip:l,hFlip:l,body:"\u003Cpath fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"m11 17l-5-5m0 0l5-5m-5 5h12\"\u002F\u003E"},"heroicons-outline:arrow-sm-right":{left:k,top:k,width:t,height:t,rotate:k,vFlip:l,hFlip:l,body:"\u003Cpath fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"m13 7l5 5m0 0l-5 5m5-5H6\"\u002F\u003E"},"uil:edit":{left:k,top:k,width:t,height:t,rotate:k,vFlip:l,hFlip:l,body:"\u003Cpath fill=\"currentColor\" d=\"M21 12a1 1 0 0 0-1 1v6a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h6a1 1 0 0 0 0-2H5a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-6a1 1 0 0 0-1-1Zm-15 .76V17a1 1 0 0 0 1 1h4.24a1 1 0 0 0 .71-.29l6.92-6.93L21.71 8a1 1 0 0 0 0-1.42l-4.24-4.29a1 1 0 0 0-1.42 0l-2.82 2.83l-6.94 6.93a1 1 0 0 0-.29.71Zm10.76-8.35l2.83 2.83l-1.42 1.42l-2.83-2.83ZM8 13.17l5.93-5.93l2.83 2.83L10.83 16H8Z\"\u002F\u003E"},"heroicons-outline:chevron-right":{left:k,top:k,width:t,height:t,rotate:k,vFlip:l,hFlip:l,body:"\u003Cpath fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"m9 5l7 7l-7 7\"\u002F\u003E"},"ph:copy":{left:k,top:k,width:dr,height:dr,rotate:k,vFlip:l,hFlip:l,body:"\u003Cpath fill=\"currentColor\" d=\"M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8Zm-56 176H48V96h112Zm48-48h-32V88a8 8 0 0 0-8-8H96V48h112Z\"\u002F\u003E"}},$sasideScroll:{parentPath:dq,scrollTop:k},"$sdocus-docs-aside-collapse-map-/":{},"$sdocus-docs-aside-collapse-map-/introduction":{"/introduction/mixins":ai},"$sdocus-docs-aside-collapse-map-/introduction/mixins":{},"$sdocus-docs-aside-collapse-map-/items":{},"$sdocus-docs-aside-collapse-map-/blocks":{},"$sdocus-docs-aside-collapse-map-/datagen":{},"$sdocus-docs-aside-collapse-map-/rendering":{},"$sdocus-docs-aside-collapse-map-/misc":{}},_errors:{},serverRendered:ai,config:{public:{studio:{apiURL:"https:\u002F\u002Fapi.nuxt.studio"},content:{locales:[],defaultLocale:r,integrity:1688833122025,experimental:{stripQueryParameters:l,clientDB:l,advancedIgnoresPattern:l},api:{baseURL:"\u002Fapi\u002F_content"},navigation:{fields:[ds,dt,du,dv,dw,dx,ds,dt,du,dv,dw,dx,"layout"]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"prose-code",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:{theme:{dark:"github-dark",default:"github-light"},preload:[Q,dy,dz,dA,dB,dC,dD,dE,aA,dF,dG,dH,Q,dy,dz,dA,dB,dC,dD,dE,aA,dF,dG,dH]},wsUrl:r,documentDriven:{page:ai,navigation:ai,surround:ai,globals:{},layoutFallbacks:["theme"],injectPage:ai},host:r,trailingSlash:l,anchorLinks:{depth:G,exclude:[D]}}},app:{baseURL:dn,buildAssetsDir:"\u002F_nuxt\u002F",cdnURL:r}},prerenderedAt:void 0}}("element","text","span","ct-6b7995","line","ct-c7e4a7","code-inline","ct-6a99cf"," ","ct-7bd8d7",0,false,"p","code",null,"ct-cbb79b","ct-ea7a7d","","ct-773808",24,"(","\u003C","    ","\n","=",", ",3,2,"\u003E ",1,"pre","BlockPos",4,"public","java","Identifier","new","  ","ct-59ef83","td","::"," and ","json",5,"Codec",": ","li",6,"final","a","h3",7,8,"}",").","h4","BeanType"," {\n",",\n","fieldOf","\u002F\u002F ...\n","Bean",true,"();\n",9,"class","{\n","(\n","forGetter","2","DataResult"," BlockPos.CODEC.","CODEC","return","static","-\u003E","MapCodec","Integer","\"example\"","tr","markdown","Codecs","1","3","JsonElement","result",10,11,12,"CoolBeansClass","int",".","\u003E\u003E ","xmap"," Codec","apply"," Codec.","23","), ","Yes","No","}\n","misc","h2",");\n","encodeStart","Optional",13,14,15,"    \n","private","() { ","this","ul","a ","Merging Codecs for Record-like Classes"," RecordCodecBuilder.","create","(instance "," instance.","group","(CoolBeansClass","getCodec","::new","\"pos\"","em","42\n","Vec3d","+","th","StringyBean","CountingBean","extends","\"type\"","content","md","\u002Fmisc\u002Fcodecs","using-codecs","Using Codecs","serializing-and-deserializing","Serializing and Deserializing","BlockPos.CODEC","pos",":"," result.","resultOrPartial","(LOGGER","error).","orElseThrow","LOGGER.","info","built-in-codecs","Built-in Codecs","getCodec()","Codec.INT","Codec.STRING","building-codecs","Building Codecs","\"beans_amount\"","5","\"bean_type\"","\"bean_positions\"","    [","]\n","Codec\u003CItem\u003E","lists","Lists","listOf","#mutually-convertible-types-and-you","merging-codecs-for-record-like-classes","().","));","Codec#fieldOf","#mapcodec-not-to-be-confused-with-codecltmapgt","Codec#optionalFieldOf","Optional Fields","mapcodec-not-to-be-confused-with-codecmap","MapCodec, not to be confused with Codec\u003CMap\u003E","Codec\u003CT\u003E","#merging-codecs-for-record-like-classes","optionalCodec","optionalFieldOf","constants-constraints-and-composition","Constants, Constraints, and Composition","unit",");","pair","Pair","Codec\u003CA\u003E","Codec\u003CB\u003E",", into a ","\"i_am_number\"","codec","Boolean","\"this_statement_is_false\"","\u002F\u002F Use it to serialize data\n","of","Identifier.CODEC","mutually-convertible-types-and-you","Mutually Convertible Types and You","(), pos.","comapFlatMap",") {\n","        ","            "," DataResult.","());\n","    }\n",16,17,"registry-dispatch","Registry Dispatch","A ","\"stringy_string\"","    ).","));\n","\"counting_number\"","beanTypeRegistry.","register","references","References","nofollow","default","\u002Fmisc\u002Fbasic-problem-solving","Basic Problem Solving","\u002Fmisc\u002Fcreating-events","Creating Fabric API Events","system","\u002F","Mixin Basics","\u002Fintroduction\u002Fmixins","\u002Fmisc",256,"icon","titleTemplate","header","main","aside","footer","js","ts","html","css","vue","diff","shell","yaml","bash","ini")))}</script><script type="module" src="/_nuxt/entry.88598ecb.js" crossorigin></script></body>
</html>